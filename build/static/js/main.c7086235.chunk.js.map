{"version":3,"sources":["js/context.js","js/TypeaheadInput.js","js/Datepicker.js","js/TrainpickerForm.js","js/Homepage.js","js/ProgressSteps.js","js/Header.js","js/Footer.js","js/CustomSwitch.js","js/FiltersForm.js","js/LastTickets.js","js/TrainSchedule.js","js/TrainScheduleBack.js","js/TrainCard.js","js/Pagination.js","js/SearchPage.js","js/CurrentTrain.js","js/CurrentTrainBack.js","js/TicketsNumber.js","js/TrainType.js","js/TrainScheme.js","js/DetailsTrip.js","js/SeatsPage.js","js/TripDetails.js","js/MaskedInput.js","js/PassengersPage.js","js/PaymentPage.js","js/TrainCardFinal.js","js/ConfirmationPage.js","js/SuccessPage.js","App.js","js/ApiService.js","index.js"],"names":["ApiServiceContext","React","createContext","TypeaheadInput","props","api","useContext","placeholder","onSelect","_useState","useState","_useState2","Object","slicedToArray","cities","setCities","_useState3","_useState4","showSuggestions","setShowSuggestions","_useState5","_useState6","hint","setHint","_useState7","value","_useState8","inputValue","setInputValue","_useState9","_useState10","useEffect","sessionStorage","travelFromName","travelToName","suggestions","handleFocus","event","currentTarget","getCities","then","response","handleBlur","setTimeout","handleInput","newHint","length","find","el","name","startsWith","current","handleKeydown","key","Array","from","children","forEach","classList","remove","add","active","contains","textContent","id","dataset","react_default","a","createElement","className","slice","travelToNameSwap","onChange","onFocus","onBlur","type","onKeyDown","ref","onClick","target","map","city","_id","data-id","materialTheme","createMuiTheme","typography","useNextVariants","overrides","defineProperty","MuiPickersCalendarHeader","daysHeader","display","MuiPickersDay","day","fontFamily","isSelected","backgroundColor","border","borderRadius","color","&:hover","background","MuiIconButton","label","root","padding","MuiFormControl","width","MuiInputBase","boxSizing","height","input","fontSize","fontWeight","outline","&$focused","MuiOutlinedInput","lineHeight","notchedOutline","adornedEnd","paddingRight","MuiSvgIcon","fill","Datepicker","defaultDate","selectedDate","handleDateChange","disablePast","disableFuture","adornment","onDateSelect","styles","theme","material_ui_pickers_esm","utils","DateFnsUtils","locale","ruLocale","style","keyboard","clearable","onlyCalendar","disableOpenOnEnter","invalidDateMessage","minDateMessage","maxDateMessage","variant","InputAdornmentProps","date","format","mask","MainSearchForm","horizontal","location","pathname","JSON","parse","searchParams","fromName","setFromName","fromId","setFromId","to","toName","setToName","toId","setToId","Date","setDate","_useState11","dateBack","_useState12","setDateBack","concat","TypeaheadInput_TypeaheadInput","travelFromNameSwap","Datepicker_Datepicker","travelDate","e","preventDefault","disabled","react_router_dom","setSearchParams","fromReverse","toReverse","window","scrollTo","top","document","querySelector","offsetTop","behavior","TrainpickerForm","path","TrainpickerForm_MainSearchForm","assign","Homepage","about","features","reviews","footer","getElementById","setHomepageRefs","onresize","react","Homepage_About","Homepage_Features","Homepage_Reviews","About","Features","Reviews","src","alt","ProgressSteps","steps","step","title","isCurrent","element","i","match","findIndex","Header","homepageRefs","handleClick","scrollOptions","href","nextElementSibling","toggle","TrainpickerForm_TrainpickerForm","ProgressSteps_ProgressSteps","Footer","email","setEmail","showHint","setShowHint","showThankYou","setShowThankYou","onSubmit","test","subscribe","action","visibility","CustomizedSwitches","state","checkedA","checkedB","handleChange","_this","setState","checked","_this$props","this","classes","types","FormGroup_default","row","FormControlLabel_default","justifyContent","toLowerCase","marginRight","labelPlacement","control","Switch_default","switchBase","colorSwitchBase","colorChecked","bar","colorBar","icon","Component","CustomSwitch","withStyles","& + $colorBar","opacity","&$colorChecked","position","left","marginTop","js_CustomSwitch","first","second","third","fourth","setFirst","express","wifi","setSecond","setThird","setFourth","setExpress","setWifi","FiltersForm","params","cost","setCost","departureTime","setDepartureTime","arrivalTime","setArrivalTime","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","_useState31","_useState32","forth","setForth","_useState33","_useState34","back","setBack","filters","formref","handleDropdownFilter","newDate","travelDateBack","index_es","data","grid","min","max","hide_min_max","skin","htmlFor","prettify","n","update","LastTickets","TrainSchedule","_ref","info","showTravelTime","travelTimeHours","Math","floor","duration","travelTimeMinutes","datetime","toLocaleTimeString","hour","minute","railway_station_name","TrainScheduleBack","TrainCard","console","log","trainsBack","departure","undefined","ArrCurrentTrains","push","train","TrainSchedule_TrainSchedule","TrainScheduleBack_TrainScheduleBack","have_fourth_class","available_seats_info","price_info","top_price","have_second_class","have_third_class","have_first_class","have_wifi","have_air_conditioning","is_express","setCurrentTrain","Pagination","trains","count","limit","currentPage","setCurrentPage","pages","ceil","beginning","p","SearchPage","setTrains","trainsReverse","setTrainsReverse","newParams","showNotice","setShowNotice","setCount","sortBy","setSortBy","setLimit","offset","setOffset","getRoutes","stringify","items","total_count","FiltersForm_FiltersForm","LastTickets_LastTickets","list","item","sort","data-sort","data-limit","index","TrainCard_TrainCard","currentTrain","Pagination_Pagination","page","CurrentTrain","CurrentTrainBack","TicketsNumber","passengers","setAdultSeats","setChildrenSeats","setChildrenWithoutSeats","adults","totalPassengers","op","childrenWithoutSeats","data-op","data-name","TrainType","currentType","coaches","setCurrentType","currentCoach","setCurrentCoach","isActive","getCoachName","handleTypeChange","data-type","coach","bottom_price","is_linens_included","TrainScheme","Car","price","chosen","setChosen","cancelChosen","setTotalPrice","topPrice","bottomPrice","sidePrice","getSecondClassPrice","seat","seats","querySelectorAll","FirstClassScheme","SecondClassScheme","ThirdClassScheme","FourthClassScheme","seatId","TrainScheme_SecondClassScheme","DetailsTrip","SeatsPage","setData","setCoaches","totalPrice","adultSeats","childrenSeats","dataBack","setDataBack","setCoachesBack","chosenBack","setChosenBack","totalPriceBack","setTotalPriceBack","currentTypeBack","setCurrentTypeBack","currentCoachBack","setCurrentCoachBack","currentTrainBack","idBack","getSeats","class_type","filter","trainId","trainIdBack","DetailsTrip_DetailsTrip","CurrentTrain_CurrentTrain","TicketsNumber_TicketsNumber","TrainType_TrainType","TrainScheme_TrainScheme","side_price","chosenSeats","seatToCancel","splice","parseInt","toLocaleString","CurrentTrainBack_CurrentTrainBack","passengersBack","seatsBack","priceBack","TripDetails","trainBack","arrivalDate","setHours","getHours","toLocaleDateString","MuiInput","underline","&:after","&:before","borderBottom","TextMaskCustom","inputRef","other","objectWithoutProperties","reactTextMask_default","inputElement","prefix","placeholderChar","showMask","FormattedInput","_React$useState","textmask","_React$useState2","values","setValues","FormControl_default","Input_default","objectSpread","inputComponent","inputProps","inputmask","PassengersPage","valid","setValid","passengersList","setPassengersList","savePassengers","passenger","TripDetails_TripDetails","PassengersPage_PassengerCard","open","adult","setPassengers","child","PassengerCard","isOpen","setOpen","formRef","useRef","lastName","setLastName","firstName","setFirstName","patronymic","setPatronymic","dateOfBirth","setDateOfBirth","gender","setGender","disabilities","setDisabilities","passport1","setPassport1","passport2","setPassport2","certificate","setCertificate","isPassportChosen","setIsPassportChosen","isPassportComplete","replace","isCertificateComplete","isComplete","today","minDate","setYear","getFullYear","defaultValue","defaultChecked","trim","Error","isNameValid","isPassportValid","message","validated","isValid","PaymentPage","phone","setPhone","paymentMethod","setPaymentMethod","handlePayment","isEmailValid","isPhoneIncomplete","isNameComplete","required","textTransform","payer","first_name","last_name","payment_method","TrainCardFinal","ConfirmationPage","TrainCardFinal_TrainCardFinal","ConfirmationPage_PassengersList","formatPaymentMethod","PassengersList","ConfirmationPage_PassengersListItem","PassengersListItem","SuccessPage","order","user","route_direction_id","person_info","is_adult","birthday","document_type","seat_number","createOrder","SuccessPage_Stars","Stars","starList","rating","setRating","SuccessPage_Star","Star","viewBox","xmlns","d","stroke","stroke-width","apiService","ApiService","classCallCheck","fetchData","asyncToGenerator","regenerator_default","mark","_callee","urlEntity","options","res","_args","arguments","wrap","_context","prev","next","method","fetch","sent","ok","status","json","abrupt","stop","_x","apply","_ref2","_callee2","query","_context2","_x2","_ref3","_callee3","_context3","_x3","_x4","_x5","_x6","getRoutesReverse","_ref4","_callee4","_context4","_x7","_x8","_x9","_x10","_ref5","_callee5","_context5","_x11","_ref6","_callee6","_context6","body","_x12","_ref7","_callee7","_context7","_x13","App","HeaderComponent","withRouter","how","contacts","basename","process","Provider","react_router","render","SearchPage_SearchPage","SeatsPage_SeatsPage","PaymentPage_PaymentPage","PassengersPage_PassengersPage","ConfirmationPage_ConfirmationPage","component","exact","Homepage_Homepage","Footer_Footer","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.c7086235.chunk.js","sourcesContent":["import React from 'react';\n\nconst ApiServiceContext = React.createContext()\n\nexport { ApiServiceContext }","import React, { useContext, useState, useEffect } from 'react'\nimport {ApiServiceContext} from './context';\n\n\nconst TypeaheadInput = (props) => {\n  \n  const api = useContext(ApiServiceContext);\n  const {placeholder, onSelect} = props;\n  const [cities, setCities] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [hint, setHint] = useState('');\n  const [inputValue, setInputValue] = useState(props.value);\n  const [inputVal, setInputVal] = useState(props.value);\n  \n  useEffect(() => {\n    sessionStorage.travelFromName = inputValue\n    sessionStorage.travelToName = inputValue\n\n  }, [props.value, inputValue]);\n\n  const handleFocus = (event) => {\n    const value = event.currentTarget.value || '';\n    api.getCities(value).then(response => {\n      setHint('');\n      setShowSuggestions(true);\n      setCities(response);\n    });\n  }\n\n  const handleBlur = () => {\n    setTimeout(() => setShowSuggestions(false), 1000);\n  }\n  \n  const handleInput = event => {\n    const value = event.currentTarget.value;\n    // if (value.match(/[^-- ]/)) {\n    //   return;\n    // }\n\n    setInputValue(value);\n\n    api.getCities(value).then(response => {\n      let newHint = response.length > 0 ? response.find(el => el.name.startsWith(value)) : '';\n      setHint(newHint ? newHint.name : '');\n      setShowSuggestions(true);\n      setCities(response);\n    });\n  }\n\n  const handleSelect = event => {\n    setInputValue(event.target.textContent);\n    setHint('');\n    onSelect({\n      name: event.target.textContent, \n      id: event.target.dataset.id\n    });\n    setShowSuggestions(false);\n  }\n\n  let suggestions, current = -1;\n  const handleKeydown = event => {\n    if (!suggestions) {\n      return;\n    }\n    if (event.key === 'ArrowDown') {\n        current++;\n        Array.from(suggestions.children).forEach(el => el.classList.remove('suggestion-active'));\n        if (current > suggestions.children.length - 1) {\n          current = 0;\n        }\n        suggestions.children[current].classList.add('suggestion-active');\n    } else if (event.key === 'ArrowUp') {\n        current--;\n        Array.from(suggestions.children).forEach(el => el.classList.remove('suggestion-active')); \n        if (current < 0) {\n          current = suggestions.children.length - 1;\n        }\n        suggestions.children[current].classList.add('suggestion-active');\n    } else if (event.key === 'Enter') {\n        let active = (Array.from(suggestions.children)).find(el => el.classList.contains('suggestion-active'));\n        if (!active) {\n          return;\n        }\n        onSelect({\n          name: active.textContent,\n          id: active.dataset.id\n        });\n        setInputValue(active.textContent);\n        setHint('');\n        setShowSuggestions(false);\n      } else {\n        handleInput(event);\n      }\n    }\n\n  return (\n    <div className=\"input-with-icon\">\n      <span className=\"trainpicker__hint\">\n        <span className=\"trainpicker__hint-transparent\">{hint.slice(0, inputValue.length)}</span>{hint.slice(inputValue.length)}\n      </span>\n      { sessionStorage.travelToNameSwap !== sessionStorage.travelToName ?\n          (<input className=\"trainpicker__input trainpicker__input-direction\" value={inputValue} onChange={handleInput} onFocus={handleFocus} onBlur={handleBlur} type=\"text\" placeholder={placeholder} onKeyDown={handleKeydown}/>) :\n          (<input className=\"trainpicker__input trainpicker__input-direction\" value={props.value} onChange={handleInput} onFocus={handleFocus} onBlur={handleBlur} type=\"text\" placeholder={placeholder} onKeyDown={handleKeydown}/>)\n      }\n\n      <i className=\"material-icons trainpicker__icon\">room</i>\n      {showSuggestions && cities.length > 0 ? \n        <ul ref={el => suggestions = el} onClick={handleSelect} className=\"suggestions\" >\n          {cities.map(city => <li key={city._id}  data-id={city['_id']}>{city.name}</li>)}\n        </ul> :\n        null\n      }\n    </div>\n  )\n}\n\nexport {TypeaheadInput}","import { InlineDatePicker,  MuiPickersUtilsProvider } from \"material-ui-pickers\";\nimport React, { useState, useEffect } from \"react\";\nimport ruLocale from \"date-fns/locale/ru\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\nconst materialTheme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  \n  overrides: {\n    MuiPickersCalendarHeader: {\n      daysHeader: {\n        display: 'none'\n      },\n    },\n    MuiPickersDay: {\n      day: {\n        fontFamily: 'Roboto',\n      },\n      isSelected: {\n        backgroundColor: 'rgba(255, 168, 0, 0.31)',\n        border: '2px solid #FFA800',\n        borderRadius: '5px',\n        color: 'black',\n        '&:hover': {backgroundColor: 'rgba(255, 168, 0, 0.31)'}\n      },\n    \n      current: {\n        color: 'orange',\n        background: 'inherit',\n        border: 'none'\n      },\n    },\n    MuiIconButton: {\n      label: {\n        color: 'inherit'\n      },\n      root: {\n        padding: 0,\n      }\n    },\n   MuiFormControl: {\n     root: {\n      width: '100%',\n      display: 'block'\n     }\n    }, \n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        width: '100%',\n        boxSizing: 'border-box',\n        height: '50px'\n      },\n      /*    */\n      input: {\n        fontSize: '16px',\n        fontWeight: '100',\n        padding: '0 0 0 10px',\n        width: '100%',\n        border: 0,\n        outline: 'none',\n        borderRadius: '3px',\n    \n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        borderRadius: '3px',\n        lineHeight: '1em'\n      },\n      input: {\n        padding: '15.5px'\n      },\n  \n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      },\n      adornedEnd: {\n        paddingRight: '5px',\n      }\n    },\n    MuiSvgIcon: {\n      root: {\n        fill: '#c4c4c4',\n        width: '36px',\n        height: '36px'\n      }\n    },\n    MuiIconButton: {\n      root: {\n        padding: '6px',\n        '&:hover': {\n          backgroundColor:  'rgba(0, 0, 0, 0.05)'\n        }\n      }\n    } \n  },\n});\n\n\nconst Datepicker = (props) => {\n  const [selectedDate, handleDateChange] = useState(props.defaultDate);\n  const {disablePast, disableFuture, adornment, onDateSelect} = props;\n\n  const handleSelect = date => {\n    handleDateChange(date);\n    onDateSelect(date)\n  }\n\n  useEffect(() => {\n    handleDateChange(props.defaultDate);\n  }, [props.defaultDate]);\n\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={ruLocale}>\n      <div className=\"picker\" style={props.style}>\n        <InlineDatePicker\n          keyboard\n          clearable\n          onlyCalendar\n          disableOpenOnEnter\n          disablePast={disablePast}\n          disableFuture={disableFuture}\n          placeholder=\"//\"\n          invalidDateMessage=\" \"\n          minDateMessage={props.minDateMessage || \"   \"}\n          maxDateMessage=\"   \"\n          variant=\"outlined\"\n          InputAdornmentProps={adornment}\n          value={selectedDate}\n          onChange={handleSelect}\n          format=\"dd/MM/yyyy\"\n          mask={value => value ? [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/] : []}\n        />\n      </div>\n      </MuiPickersUtilsProvider>\n      </MuiThemeProvider>\n  );\n}\n\nexport { Datepicker };\n","import React, { useContext, useState, useEffect } from 'react';\nimport { TypeaheadInput } from './TypeaheadInput'\nimport { ApiServiceContext } from './context';\nimport { Link } from 'react-router-dom';\nimport { Datepicker } from './Datepicker';\n\nconst MainSearchForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {horizontal} = props;\n  const [fromName, setFromName] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).from.name : '');\n  const [fromId, setFromId] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).from.id : '');\n  const [toName, setToName] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).to.name : '');\n  const [toId, setToId] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).to.id : '');\n  const [date, setDate] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).date : new Date());\n  const [dateBack, setDateBack] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).dateBack : null);\n\n\n  const handleSwap = () => {\n    \n    setFromName(toName);\n    setToName(fromName);\n\n    setFromId(toId);\n    setToId(fromId);\n    \n    // setDateBack(date);\n    // setFromNameNew(toName)\n    sessionStorage.travelFromNameSwap = fromName\n    sessionStorage.travelToNameSwap = toName\n\n    \n    \n  }\n\n  \n\n  const handleSubmit = () => {\n    props.setSearchParams({\n      from: {\n        name: fromName,\n        id: fromId\n      },\n      to: {\n        name: toName,\n        id: toId \n      },\n      fromReverse: {\n        name: toName,\n        id: toId\n      },\n      toReverse: {\n        name: fromName,\n        id: fromId\n      },\n      // date: date.toISOString().substr(0, 10),\n      // dateBack: dateBack && dateBack.toISOString().substr(0, 10)\n      date: date,\n      dateBack: dateBack\n    });\n    if (props.location.pathname !== '/') {\n      window.scrollTo({\n        top: document.querySelector('.col-right').offsetTop,\n        behavior: 'smooth'\n      })\n    }\n  }\n\n\n    return (\n      <form  className={`trainpicker ${horizontal ? 'trainpicker-horizontal' : ''}`}>\n        {horizontal ? null : <div><h2 className=\"trainpicker__header\">    :</h2></div>}\n            <div className={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label className=\"trainpicker_label\"></label>\n              <div className=\"trainpicker__inputs\">\n                <TypeaheadInput \n                  \n                  placeholder=\"\"\n                  onSelect={city => {\n                  setFromName(city.name);\n                  setFromId(city.id)\n                  }}\n                  value={fromName}/>\n                <div onClick={handleSwap} className=\"trainpicker__reverse\" type=\"checkbox\" name=\"reverse\" id=\"reverse\">\n                  <i className=\"fas pic_reverse\"></i>\n                </div>\n                <TypeaheadInput \n                \n                  placeholder=\"\"\n                  onSelect={city => {\n                  setToName(city.name);\n                  setToId(city.id)\n                  }}\n                  value={toName}/>\n              </div>\n            </div>\n            <div className={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label className=\"trainpicker_label\"></label>\n              <div className='trainpicker_data'>\n                <div className=\"trainpicker__inputs\" >\n                  <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = date;\n                      setDate(date)}}\n                    defaultDate={props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).date : new Date()}\n                    />\n                </div>\n\n                <div className=\"trainpicker__inputs\" >\n                  <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = dateBack;\n                      setDateBack(date)}}\n                    defaultDate={props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).dateBack : null}\n                    />\n                </div>\n              </div>\n              \n            </div>\n\n          \n            \n            <button onClick={e => e.preventDefault()} type=\"submit\" disabled={!(fromName && toName)} className={`trainpicker__button ${horizontal ? 'trainpicker__button-horizontal' : ''} `}>\n              {fromName && toName ? \n                <Link to='/search'\n                  onClick={handleSubmit}> </Link> :\n                \" \" }\n            </button>\n            \n          </form>\n    )\n}\n\nconst TrainpickerForm = (props) => {\n  const path = props.location.pathname;\n  if (path === '/success') {\n    return (\n      <section className=\"main-search main-search-success\"></section>\n    )\n  }\n  if (path !== '/') {\n    return (\n      <section className=\"main-search\">\n        <MainSearchForm horizontal {...props}/>\n      </section>\n      )\n  }\n  if (path === '/') { \n    return (\n    <section className=\"main\" id=\"main\">\n      <div className=\"overlay\"></div>\n      <div className=\"main__motto\">\n        <div className=\"motto\">  - \n          <div className=\"motto-bold\">!</div> \n        </div>\n      </div>\n      <div className=\"main__picker\">\n        <MainSearchForm {...props}/>\n        \n      </div>\n    </section>\n  )\n  }\n  }\n\nexport {TrainpickerForm}","import React, { Fragment, useEffect } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\n\nconst Homepage = (props) => {\n  let about, features, reviews, footer;\n  useEffect(() => {\n    about = document.getElementById('about');\n    features = document.getElementById('features');\n    reviews = document.getElementById('reviews');\n    footer = document.getElementById('footer');\n    props.setHomepageRefs({\n      about: about.offsetTop,\n      features: features.offsetTop,\n      reviews: reviews.offsetTop,\n      footer: footer.offsetTop\n    });\n  }, [about]);\n\n  window.onresize = () => {\n    about = document.getElementById('about');\n    features = document.getElementById('features');\n    reviews = document.getElementById('reviews');\n    footer = document.getElementById('footer');\n    props.setHomepageRefs({\n      about: about.offsetTop,\n      features: features.offsetTop,\n      reviews: reviews.offsetTop,\n      footer: footer.offsetTop\n    })\n  }\n\n   return (\n     <Fragment>\n      <About />\n      <Features />\n      <Reviews />\n    </Fragment>\n   )\n}\n\n\nconst About = () => (\n  <section className=\"about\" id=\"about\">\n      <div className=\"about__title\"><h2> </h2></div>\n      <div className=\"about__text\">\n        <div className=\"about__deco\"></div>\n        <div className=\"about__items\">\n          <p className=\"about__item\">   !      2003 . 15   ,            .</p>\n          <p className=\"about__item\">        2 ,     ?       .</p>\n          <p className=\"about__item about__item-bold\">      90    .           .</p>\n        </div>\n      </div>\n    </section>\n)\n\nconst Features = () => (\n  <section className=\"features\" id=\"features\">\n      <div className=\"description\">\n        <h2 className=\"description__title\">  </h2>\n        <button className=\"description__button\"> </button>\n      </div>\n      <div className=\"features__items\">\n        <div className=\"features__item features__item-monitor\">   </div>\n        <div className=\"features__item features__item-office\">    </div>\n        <div className=\"features__item features__item-globe\">  </div>\n      </div>\n    </section>\n  )\n\nconst Reviews = () => (\n  <section className=\"reviews\" id=\"reviews\">\n      <h2 className=\"reviews__title\"></h2>\n      <div className=\"reviews__slide\">\n          <div className=\"review\">\n          <img className=\"review__avatar\" src=\"https://i.ibb.co/Z1RgQdZ/av-1.png\" alt=\"av\"/>\n          <div className=\"review__content\">\n            <h4 className=\"review__author\"> </h4>\n            <p className=\"review__text\">\n                             / ,       .</p>\n          </div>\n      </div>\n        <div className=\"review\">\n            <img className=\"review__avatar\" src=\"https://i.ibb.co/47wFWkj/av-2.png\" alt=\"av\"/>\n            <div className=\"review__content\">\n              <h4 className=\"review__author\"> </h4>\n              <p className=\"review__text\">\n                -  .    /    3       -  .</p>\n            </div>\n        </div>\n      </div>\n      \n      <div className=\"carousel\">\n        <div className=\"carousel__controls\">\n          <span className=\"carousel__item carousel__item-active\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n        </div>\n        </div>\n    </section>\n)\n\nexport {Homepage}","import React from 'react';\n\nconst ProgressSteps = (props) => {\n  const current = props.location.pathname;\n  const steps = [\n    {\n      step: \"/search/seats\",\n      title: \"\"\n    },\n    {\n      step: \"/passengers\",\n      title: \"\"\n    },\n    {\n      step: \"/payment\",\n      title: \"\"\n    },\n    {\n      step: \"/confirmation\",\n      title: \"\"\n    }\n  ];\n\n  const isCurrent = (element, i) => {\n    return element.step.match(current) || i <= steps.findIndex(el => el.step === current)\n  }\n\n  return (\n    <section className=\"progress\">\n      {steps.map((el, i) => (<div key={el.title} className={`progress__step ${isCurrent(el, i) ? \"progress__step-current\" : \"\"}`}>\n       <span className=\"number\">{i+1}</span>\n       <span className=\"progress__text\">{el.title}</span>\n       {i === 3 ? null : <div className={`progress__arrow ${isCurrent(el, i) ? \"progress__arrow-current\" : \"\"}`}></div>}\n     </div>)\n     )}\n   </section>\n  )\n}\n\nexport {ProgressSteps}\n\n","import React, { Fragment } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\nimport { ProgressSteps } from './ProgressSteps';\nimport { Link } from 'react-router-dom';\n\n\nconst Header = (props) => {\n  const {homepageRefs} = props;\n  const handleClick = event => {\n    const top = homepageRefs[event.currentTarget.dataset.id];\n    const scrollOptions = {\n      top: top,\n      behavior: 'smooth'\n    }\n\n    if (props.location.pathname === '/') {\n      event.preventDefault();\n    }\n\n    window.scrollTo(scrollOptions);\n  }\n    \n  const handleDropdownMenu = event => {\n    event.currentTarget.nextElementSibling.classList.toggle('hidden');\n    (Array.from(event.currentTarget.children)).forEach( el => el.classList.toggle('hidden'));\n  }\n\n  return (\n    <Fragment>\n      <section className=\"header\">\n        <div className=\"logo\"><Link className=\"logo__link\" to=\"/\"><h1></h1></Link></div>\n        <nav  className=\"menu\">\n          <ul className=\"nav\">\n            <li  className=\"nav__item\"><Link onClick={handleClick} className=\"nav__link\" data-id=\"about\" to='/'> </Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"features\" className=\"nav__link\" >  </Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"reviews\" className=\"nav__link\" ></Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"footer\" className=\"nav__link\" href=\"#footer\"></Link></li>\n          </ul>\n        </nav>\n\n        <nav className=\"menu-dropdown\">\n          <div onClick={handleDropdownMenu} className=\"menu-burger\">\n            <i className=\"fas fa-bars\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n          <ul className=\"nav hidden\">\n            <li></li>\n            <li  className=\"nav__item\"><Link onClick={handleClick} className=\"nav__link\" data-id=\"about\" to='/'> </Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"features\" className=\"nav__link\" >  </Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"reviews\" className=\"nav__link\" ></Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"footer\" className=\"nav__link\" href=\"#footer\"></Link></li>\n          </ul>\n        </nav>\n\n      </section>\n      <TrainpickerForm {...props}/>\n        {(props.location.pathname === '/' ||  props.location.pathname === '/success') ? null : <ProgressSteps {...props}/>}\n    </Fragment>\n  )\n}\n\n\nexport {Header}","import React, { useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\nimport { Link } from 'react-router-dom';\n\n\nconst Footer = () => {\n  const api = useContext(ApiServiceContext);\n  const [email, setEmail] = useState('');\n  const [showHint, setShowHint] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\\.)+[a-z]{2,6}$/.test(email)) {\n      api.subscribe(email);\n      setShowHint(false);\n      setShowThankYou(true);\n      setEmail('');\n    } else {\n      setShowHint(true);\n    }\n  }\n\n\n\n  return (\n  <footer className=\"footer\" id=\"footer\">\n      <div className=\"footer footer-main\">\n      <div className=\"contacts\">\n        <h3 className=\"footer__title\">  </h3>\n        <ul className=\"contacts__list\">\n          <li className=\"contacts__item contacts__item-phone\">8 (800) 000 00 00</li>\n          <li className=\"contacts__item contacts__item-email\">inbox@mail.ru</li>\n          <li className=\"contacts__item contacts__item-skype\">tu.train.tickets</li>\n          <li className=\"contacts__item contacts__item-address\"> .  <br/> .  27-35 <br/>  555 555</li>\n        </ul>\n      </div>\n      <div className=\"subscription\">\n        <h3 className=\"footer__title\"></h3>\n        <form onSubmit={handleSubmit} action=\"\" className=\"subscription-form\">\n          <label className=\"subscription-form__label\">   </label>\n            <div><input value={email} onChange={handleInput} className=\"subscription-form__input\" type=\"email\" name=\"subscription\" placeholder=\"e-mail\"/>\n            <div style={{visibility: showHint ? \"visible\" : \"hidden\" }} className=\"subscription_hint\">  email   email@mail.ru</div></div>\n          <button className=\"subscription-form__button\"  type=\"submit\"></button>\n            <div style={{visibility: showThankYou ? \"visible\" : \"hidden\"}} className=\"subscription_thankyou\">  !</div>\n        </form>\n        <h3 className=\"footer__title\">  </h3>\n        <ul className=\"social\">\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-youtube\">\n            <i className=\"fab fa-youtube\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-linkedIn\">\n            <i className=\"fab fa-linkedin-in\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-googlePlus\">\n            <i className=\"fab fa-google-plus-g\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-facebook\">\n            <i className=\"fab fa-facebook-f\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-twitter\">\n            <i className=\"fab fa-twitter\"></i>\n              </a></li>\n        </ul>\n      </div>\n    </div>\n      <div className=\"footer-additional\">\n          <div className=\"footer__logo\"><Link className=\"logo__link\" to='/'>TrainBooking</Link></div>\n          <div className=\"footer__home-arrow\" onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}></div>\n          <div className=\"footer__copyright\">2019 WEB</div>\n      </div>\n    </footer>\n)\n  }\n\nexport {Footer};","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst styles = theme => ({\n  colorSwitchBase: {\n    color: \"#c4c4c4\",\n    \"& + $colorBar\": {\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #3E3C41\",\n      opacity: 1,\n      width: \"100%\",\n    },\n    \"&$colorChecked\": {\n      color: \"#FFA800\",\n      position: \"relative\",\n      left: \"30px\",\n      \"& + $colorBar\": {\n        backgroundColor: \"#FCDC90\",\n        opacity: 1,\n      }\n    }\n  },\n  icon: {\n    marginTop: '2px',\n  },\n  colorBar: {},\n  colorChecked: {},\n  label: {\n    color: \"#fff\"\n  }\n});\n\nclass CustomizedSwitches extends React.Component {\n\n  state = {\n    checkedA: true,\n    checkedB: true\n  };\n\n  handleChange = name => event => {\n    this.props.onChange();\n    this.setState({ [name]: event.target.checked });\n  };\n\n  render() {\n    const { classes, label } = this.props;\n    \n    const types = [\n      {\n        name: 'second-class',\n        value: ''\n      },\n      {\n        name: 'third-class',\n        value: ''\n      },\n      {\n        name: 'first-class',\n        value: ''\n      },\n      {\n        name: 'fourth-class',\n        value: ''\n      },\n      {\n        name: 'express',\n        value: ''\n      },\n      {\n        name: 'wi-fi',\n        value: 'wi-fi'\n      },\n    ];\n    const getSeatType = (type) => {\n      const res = types.find(el => el.value === type.toLowerCase()).name;\n      return res;\n    }\n\n\n\n\n    return (\n      <div>\n        <FormGroup row >\n        <FormControlLabel\n            style={{width: '80%', \"justifyContent\": \"space-between\", \"color\": \"#ffffff\"}}\n            classes={{label: label}}\n            label={<label className={\"switches_label \" + getSeatType(label)} style={{color: \"#fff\", marginRight: '1rem'}}>{label}</label>}\n            labelPlacement=\"start\"\n            control={\n              <Switch\n                checked={this.props.checked}\n                onChange={this.handleChange(\"checkedA\")}\n                value=\"checkedA\"\n                classes={{\n                  switchBase: classes.colorSwitchBase,\n                  checked: classes.colorChecked,\n                  bar: classes.colorBar,\n                  icon: classes.icon\n                }}\n              />\n            }\n          />\n        </FormGroup>\n      </div>\n\n    );\n  }\n}\n\nCustomizedSwitches.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nconst CustomSwitch =  withStyles(styles)(CustomizedSwitches);\n\nexport default (props) => {\n  const { first, second, third, fourth, setFirst, express, wifi, setSecond, setThird, setFourth, setExpress, setWifi } = props;\n  return (\n    <div>\n    <CustomSwitch checked={second} onChange={setSecond} label=\"\"/>\n    <CustomSwitch checked={third} onChange={setThird} label=\"\"/>\n    <CustomSwitch checked={fourth} onChange={setFourth} label=\"\"/>\n    <CustomSwitch checked={first} onChange={setFirst} label=\"\"/>\n    <CustomSwitch checked={express} onChange={setExpress} label=\"\"/>\n    <CustomSwitch checked={wifi} onChange={setWifi} label=\"Wi-Fi\"/>\n    </div>\n  )\n}\n\n","import React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport {ApiServiceContext} from './context';\nimport { Datepicker } from './Datepicker';\nimport { Link } from 'react-router-dom';\n\n\nconst FiltersForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n\n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(true);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(true);\n  const [date, setDate] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).date : new Date());\n  const [dateBack, setDateBack] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).dateBack : null);\n\n\n  const [fromName, setFromName] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).from.name : '');\n  const [fromId, setFromId] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).from.id : '');\n  const [toName, setToName] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).to.name : '');\n  const [toId, setToId] = useState(props.location.pathname !== '/' ? JSON.parse(sessionStorage.searchParams).to.id : '');\n\n  const [forth, setForth] = useState(true);\n  const [back, setBack] = useState(true);\n\n  params.filters = `price_from=${cost.from}&price_to=${cost.to}${first ? '&have_first_className=true' : ''}${second ? '&have_second_className=true' : ''}${third ? '&have_third_className=true' : ''}${fourth ? '&have_fourth_className=true' : ''}${wifi ? '&have_wifi=true' : ''}${express ? '&have_express=true' : ''}`;\n\n\n  const addFilters = event => {\n    event.preventDefault();\n    props.update(params.filters)\n    props.setSearchParams({\n      from: {\n        name: fromName,\n        id: fromId\n      },\n      to: {\n        name: toName,\n        id: toId \n      },\n      fromReverse: {\n        name: toName,\n        id: toId\n      },\n      toReverse: {\n        name: fromName,\n        id: fromId\n      },\n      // date: date.toISOString().substr(0, 10),\n      // dateBack: dateBack && dateBack.toISOString().substr(0, 10)\n      date: date,\n      dateBack: dateBack\n    });\n  }\n\n  const resetFilters = event => {\n    event.preventDefault();\n\n    setCost({from: 500, to: 7000});\n    setDepartureTime({from: 0, to: 24});\n    setArrivalTime({from: 0, to: 24});\n    params.filters = '';\n    window.location.href = '/search';\n  }\nlet formref;\n  const handleDropdownFilter = () => {\n    formref.classList.toggle('minimized');\n  }\n\n  const handleSortByForth = event => {\n    const list = event.currentTarget;\n    list.classList.toggle('time-picker_roll-less');\n    setForth(!forth)\n  }\n  const handleSortByBack = event => {\n    const list = event.currentTarget;\n    // const item = event.target;\n    list.classList.toggle('time-picker_roll-less');\n    setBack(!back)\n  }\n\n  useEffect(() => {\n\n    setDate(JSON.parse(sessionStorage.searchParams).date);\n    setDateBack(JSON.parse(sessionStorage.searchParams).dateBack);\n\n  }, [props.searchParams]);\n\n  return (\n    <div className=\"filters-container\">\n      <div onClick={handleDropdownFilter} className=\"filter-cog\">\n            <i className=\"fas fa-cog\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n    <form ref={el => formref = el} action=\"\" className=\"search-form minimized\">\n         <fieldset onClick={handleDropdownFilter} className=\"search-form__set\" >\n\n        <div>\n          <h2> </h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      let newDate = Date.parse(date);\n                      sessionStorage.travelDate = newDate;\n                      setDate(date)}}\n                      defaultDate={date}\n  \n                    />\n        </div>\n        <div>\n          <h2> </h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDateBack = dateBack;\n                      setDateBack(date)}}\n                    defaultDate={dateBack}\n\n                    \n\n                    />\n        </div>\n         </fieldset>\n         <fieldset className=\"seat-types\">\n           <Switches \n            first={first}\n            second={second}\n            third={third}\n            fourth={fourth}\n            express={express}\n            wifi={wifi}\n            setFirst={() => setFirst(!first)}\n            setSecond={() => setSecond(!second)}\n            setThird={() => setThird(!third)}\n            setFourth={() => setFourth(!fourth)}\n            setExpress={() => setExpress(!express)}\n            setWifi={() => setWifi(!wifi)}\n          />\n         </fieldset>\n         <fieldset className=\"cost-picker\" >\n           <label className=\"trainpicker_label\"></label>\n           <RangeSlider \n              onChange={data => setCost({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={cost.from}\n              to={cost.to}\n              min={500}\n              max={7000}\n              hide_min_max={true}\n              skin=\"material\"/>\n         </fieldset>\n\n         <div>\n          \n          \n          <fieldset className=\"time-picker\">\n            <div className=\"time-picker_titel\">\n              <div className=\"time-picker_icon\">\n              <span ><i className=\"material-icons\">arrow_forward</i></span>\n              </div>\n              <h2></h2>\n              <div onClick={handleSortByForth} className=\"time-picker_roll-more time-picker_roll-less\">\n                \n              </div>\n            </div>\n              {forth ? (<div>\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/></div>) : false}\n\n          </fieldset>\n         </div>\n\n         <div>\n          \n          <fieldset className=\"time-picker\">\n              <div className=\"time-picker_titel\">\n                  <div className=\"time-picker_icon\">\n                  <span ><i className=\"material-icons\">arrow_back</i></span>\n                  </div>\n                  <h2></h2>\n                  <div onClick={handleSortByBack} className=\"time-picker_roll-more time-picker_roll-less\"></div>\n                </div>\n              {back ? (<div>\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/></div>) : false}\n\n          </fieldset>\n         </div>\n         \n         <fieldset className=\"filters__buttons \">\n            \n            <button onClick={addFilters} className=\"filters__button\"></button>\n         </fieldset>\n       </form>\n      </div>\n  )\n}\n\nexport {FiltersForm}","import React from 'react';\n\nconst LastTickets = () => {\n  return (\n    <div className=\"last-tickets\">\n         <h2 className=\"last-tickets_title\"> </h2>\n         <div className=\"last-tickets_card\">\n           <div className=\"last-tickets_directions\">\n           <div className=\"last-tickets_from\">\n             <div className=\"train-schedule_city\"></div>\n             <div className=\"train-schedule_station\"> </div>\n           </div>\n           <div className=\"last-tickets_to\">\n              <div className=\"train-schedule_city\"></div>\n              <div className=\"train-schedule_station\"> </div>\n            </div>\n          </div>\n          <div className=\"last-tickets_info\">\n            <div className=\"last-tickets_labels\">\n              <span className=\"switches_label wi-fi\"></span>\n              <span className=\"switches_label express\"></span>\n              <span className=\"switches_label breakfast\"></span>\n            </div>\n            <div className=\"last-tickets_price\">\n              <span>3 500</span>\n            </div>\n          </div>\n         </div>\n       </div>\n  )\n}\n\nexport {LastTickets}","import React from 'react'\n\n\nconst TrainSchedule = ({info, showTravelTime}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n  \n  return (\n    <div className=\"train-schedule\">\n        <div className=\"train-schedule_way\">\n          <div className=\"train-schedule_from\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.from.city.name}</div>\n            <div className=\"train-schedule_station\">{info.from.railway_station_name}</div>\n          </div>\n          <div className=\"train-schedule_travel-arrow\">\n            {showTravelTime ? <span>{travelTimeHours}  {travelTimeMinutes} </span> : null}\n            <i className=\"material-icons\">arrow_forward</i>\n          </div>\n          <div className=\"train-schedule_to\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.to.city.name}</div>\n            <div className=\"train-schedule_station\">{info.to.railway_station_name}</div>\n          </div>\n        </div>\n      </div>\n\n  )\n}\n\nexport {TrainSchedule}","import React from 'react'\n\n\nconst TrainScheduleBack = ({info, showTravelTime}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n  \n  return (\n    <div className=\"train-schedule\">\n        <div className=\"train-schedule_wayback\">\n          <div className=\"train-schedule_from\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.from.city.name}</div>\n            <div className=\"train-schedule_station\">{info.from.railway_station_name}</div>\n          </div>\n          <div className=\"train-schedule_travel-arrow\">\n            {showTravelTime ? <span>{travelTimeHours}  {travelTimeMinutes} </span> : null}\n            <i className=\"material-icons\">arrow_back</i>\n          </div>\n          <div className=\"train-schedule_to\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.to.city.name}</div>\n            <div className=\"train-schedule_station\">{info.to.railway_station_name}</div>\n          </div>\n        </div>\n      </div>\n\n  )\n}\n\nexport {TrainScheduleBack}","import React, { useState, useEffect } from \"react\";\nimport {Link} from 'react-router-dom';\nimport { TrainSchedule } from './TrainSchedule';\nimport { TrainScheduleBack } from './TrainScheduleBack';\n\n\nconst TrainCard = (props) => {\n  console.log(props.trainsBack)\n  const {departure} = props;\n  const [trainsBack, setTrainsBack] = useState(props.trainsBack !== undefined ? props.trainsBack.departure  : departure);\n\n  // const [trainsBack, setTrainsBack] = useState(props.params.dateBack !== undefined ? (props.trainsBack.departure  || props.trainsBack || departure) : departure);\n\n  // props.params.dateBack !== null ? (trainsBack = props.trainsBack.departure  || props.trainsBack || departure) : trainsBack = departure;\n\n  \n  const ArrCurrentTrains = [];\n  ArrCurrentTrains.push(departure, trainsBack)\n\n  return (\n    <div className=\"train\">\n      <div className=\"train-info\">\n        <div className=\"train-icon\"></div>\n        <h4 className=\"train-info_number\">{departure.train.name}</h4>\n        <div className=\"train-info_destination\">\n          <div className=\"train-info_name\">{departure.from.city.name}</div>\n          <div className=\"train-info_name\">{departure.to.city.name}</div>\n        </div>\n      </div>\n      <div className=\"train-schedule-all\">\n      <TrainSchedule info={departure} showTravelTime />\n      {props.params.dateBack !== null ? <TrainScheduleBack info={trainsBack} showTravelTime /> : false}\n        </div>  \n      \n\n         <div className=\"train-seats\">\n            <ul className=\"train-seats_list\">\n              {departure.have_fourth_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.fourth}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_second_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.second}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_third_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.third}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_first_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.first}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul>\n              {props.params.dateBack !== null ?\n              <ul className=\"train-seats_list\">\n              {trainsBack.have_fourth_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.fourth}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_second_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.second}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_third_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.third}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_first_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.first}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul> : false}\n\n            <div>\n              <div className=\"train-seats_icons\">\n                {departure.have_wifi ? <span title=\" wi-fi\"><i className=\"fas fa-wifi\"></i></span> : null}\n                {departure.have_air_conditioning ? <span title=\" \"><i className=\"far fa-snowflake\"></i></span> : null}\n                {departure.is_express ? <span title=\"\"><span className=\"rocket\"></span></span> : null}\n              </div>\n              <div className=\"train-seats_button-container\">\n                <Link className=\"train-seats_button\" to='/seats'  onClick={() => props.setCurrentTrain(ArrCurrentTrains)}>\n                   </Link>\n              </div>\n            </div>\n       </div>\n      </div>\n      \n  )\n}\n\nexport {TrainCard}","import React from 'react';\n\nconst Pagination = (props) => {\n  const {trains, count, limit, currentPage, setCurrentPage} = props;\n  const pages = new Array(Math.ceil(count / limit)).fill('');\n  \n\n  const handleClick = event => {\n    if (!event.target.classList.contains('page')) {\n      return;\n    }\n\n    if (event.target.classList.contains('page-previous') && currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    } else if (event.target.classList.contains('page-next') && currentPage < pages.length) {\n      setCurrentPage(currentPage + 1);\n    } else if ((currentPage === 1 || currentPage === pages.length) && (event.target.classList.contains('page-previous') || event.target.classList.contains('page-next'))) {\n      return;\n    } else {\n      setCurrentPage(+event.target.textContent)\n    }\n\n    const beginning = document.querySelector('.col-right').offsetTop;\n    window.scrollTo({\n      top: beginning,\n      behavior: 'smooth'\n    })\n  }\n  \n  return count > 0 && trains.length > 0 ? (\n    <div className=\"pagination\" onClick={handleClick}>\n      {count > 1 && <i className=\"fas fa-chevron-left page page-previous\"></i>}\n      <ul>\n        {pages.map((p, i) => <li key={i} className={currentPage === i + 1 ? \"page page-current\" : \"page\"}>{i + 1}</li>)}\n      </ul>\n      {count > 1 && <i className=\"fas fa-chevron-right page page-next\"></i>}\n    </div>\n  ) : null;\n}\n\nexport {Pagination}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {TrainpickerForm} from './TrainpickerForm'\nimport {ProgressSteps} from './ProgressSteps'\nimport { FiltersForm } from './FiltersForm';\nimport { LastTickets } from './LastTickets'\nimport { TrainCard } from './TrainCard';\nimport { Pagination } from './Pagination'; \n\nimport {ApiServiceContext} from './context';\n\n\n\nconst SearchPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {trains, setTrains} = props;\n  const {trainsReverse, setTrainsReverse} = props;\n  const [trainsArr, setTrainsArr] = useState();\n\n\n  const params = JSON.parse(sessionStorage.searchParams) || props.searchParams ;\n  const newParams = Object.assign({}, params);\n  if (params.dateBack !== null) {\n    \n    newParams.to = params.toReverse;\n    newParams.from = params.fromReverse;\n  }\n  \n\n\n  const [showNotice, setShowNotice] = useState(false);\n  const [count, setCount] = useState(0);\n  const [sortBy, setSortBy] = useState('duration');\n  const [limit, setLimit] = useState(5);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const [searchParams, setSearchParams] = useState(JSON.parse(sessionStorage.searchParams));\n\n  const update = (filters) => {\n    params.filters = filters; \n    api.getRoutes(params, sortBy, limit, offset)\n    .then(response => {\n        sessionStorage.trains = JSON.stringify(response.items);\n        const count = response.items.length === 0 ? 0 : response.total_count;\n        setCount(count);\n        setTrains(response.items);\n        if (response.items.length === 0) {\n          setShowNotice(true);\n        } \n      }\n    );\n\n    \n\n    api.getRoutes(newParams, sortBy, limit, offset)\n    .then(response => {\n        sessionStorage.trainsReverse = JSON.stringify(response.items);\n        const count = response.items.length === 0 ? 0 : response.total_count;\n        setCount(count);\n        setTrainsReverse(response.items);\n        if (response.items.length === 0) {\n          setShowNotice(true);\n        } \n      }\n    );\n    \n  }\n\n  useEffect(() => {\n    update(); \n    \n  }, [params.from.name, params.to.name, sortBy, limit, offset]);\n\n  const handleSortBy = event => {\n    const list = event.currentTarget;\n    const item = event.target;\n    list.classList.toggle('sort_list-open');\n    Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    item.classList.add('sort-by-current');\n    setSortBy(item.dataset.sort);\n    setCurrentPage(1);\n  }\n  \n  const handleLimit = event => {\n    \n    if (!event.target.classList.contains('limit-by')) {\n      return;\n    }\n    const list = event.currentTarget;\n    const item = event.target;\n    Array.from(list.children).forEach(el => el.classList.remove('limit-by-current'));\n    item.classList.add('limit-by-current');\n    setLimit(item.dataset.limit);\n    setCurrentPage(1);\n  }\n\n  const setPage = (page) => {\n    setOffset(limit * (page - 1));\n    setCurrentPage(page);\n  }\n\n\n  return  (\n    \n    <Fragment>\n      <section className=\"columns\">\n        <div className=\"col-left\">\n          <FiltersForm {...props} update={update} \n          setSearchParams={params => {\n            setSearchParams(params);\n            sessionStorage.searchParams = JSON.stringify(params);\n          }}/>\n          <LastTickets />\n        </div>\n        <div className=\"col-right\">\n          <div className=\"results-display\">\n            <div className=\"trains-count\">\n              <span className=\"results-option\"></span>\n              <span>{count}</span>\n            </div>\n            <div className=\"sort\">\n              <span className=\"results-option\"> :</span>\n              <ul onClick={handleSortBy} className=\"sort_list\">\n                <li className=\"sort-by\" data-sort=\"date\"></li>\n                <li className=\"sort-by sort-by-current\" data-sort=\"duration\"></li>\n              </ul>\n            </div>\n            <div className=\"limit\">\n              <span className=\"results-option\"> :</span>\n              <ul className=\"limit_list\" onClick={handleLimit}>\n                <li className=\"limit-by limit-by-current\" data-limit={5}>5</li>\n                <li className=\"limit-by\" data-limit={10}>10</li>\n                <li className=\"limit-by\" data-limit={20}>20</li>\n              </ul>\n            </div>\n          </div>\n          \n          {trains.length > 0 ? \n            trains.map(function(train, index){\n              const trainsBack = trainsReverse[index];\n              return ( \n              <TrainCard trainsBack={trainsBack}\n                                key={index}\n                                params={params}\n                                departure={train.departure} \n                                \n                                currentTrain={props.currentTrain} \n  setCurrentTrain={props.setCurrentTrain}/>)}) :\n            showNotice ? <div className=\"not-found-notice\"> ,   .    .</div> : <div className=\"loader\"><div className=\"loader_image\"></div></div>\n          }\n          \n          <Pagination \n              trains={trains}\n              count={count} \n              limit={limit} \n              currentPage={currentPage}\n              setCurrentPage={setPage}/> \n        </div>\n      </section>\n    </Fragment>\n  )\n  \n}\n\nexport {SearchPage}\n","import React from 'react';\nimport { TrainSchedule } from './TrainSchedule';\n\nconst CurrentTrain = ({info}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n\n  return (\n    <div className=\"current-train\">\n      <div className=\"train-icon\"></div>\n      <div className=\"train-info\">\n        <h4 className=\"train-info_number\">{info.train.name}</h4>\n        <div>\n          <div className=\"train-info_name\">{info.from.city.name}</div>\n          <div className=\"train-info_name\">{info.to.city.name}</div>\n        </div>\n        </div>\n\n      <TrainSchedule info={info} showTravelTime={false}/>\n      \n     <div className=\"current-train_travel-time\">\n        <div className=\"travel-time_icon\"></div>\n        <div className=\"travel-time_text\">\n          <div className=\"hours\">{travelTimeHours} </div>\n          <div className=\"hours\">{travelTimeMinutes} </div>\n        </div>\n     </div>\n    </div>\n  )\n}\n\nexport {CurrentTrain};","import React from 'react';\nimport { TrainScheduleBack } from './TrainScheduleBack';\n\nconst CurrentTrainBack = ({info}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n\n  return (\n    <div className=\"current-train\">\n      <div className=\"train-icon\"></div>\n      <div className=\"train-info\">\n        <h4 className=\"train-info_number\">{info.train.name}</h4>\n        <div>\n          <div className=\"train-info_name\">{info.from.city.name}</div>\n          <div className=\"train-info_name\">{info.to.city.name}</div>\n        </div>\n        </div>\n\n      <TrainScheduleBack info={info} showTravelTime={false}/>\n      \n     <div className=\"current-train_travel-time\">\n        <div className=\"travel-time_icon\"></div>\n        <div className=\"travel-time_text\">\n          <div className=\"hours\">{travelTimeHours} </div>\n          <div className=\"hours\">{travelTimeMinutes} </div>\n        </div>\n     </div>\n    </div>\n  )\n}\n\nexport {CurrentTrainBack};","import React, { useState } from 'react'\n\nconst TicketsNumber = ({passengers, setAdultSeats, setChildrenSeats, setChildrenWithoutSeats}) => {\n  const [totalPassengers, setTotalPassengers] = useState(passengers.adults + passengers.children);\n  const handleChange = event => {\n    const type = event.currentTarget.dataset.name;\n\n    const op = (value) => {\n      if (event.currentTarget.dataset.op === \"inc\") {\n        return value + 1;\n      }\n      return value - 1;\n    } \n\n    switch (type) {\n      case \"children\":\n        if (totalPassengers <= 4) {\n          setChildrenSeats(op(passengers.children));\n        }\n        break;\n      case \"childrenwithoutSeats\":\n          if (totalPassengers <= 4) {\n        setChildrenWithoutSeats(op(passengers.childrenWithoutSeats));\n          }\n        break;\n      case \"adults\":\n        setAdultSeats(op(passengers.adults));\n        break;\n      default:\n        return;\n    }\n  }\n  return (\n    <div className=\"tickets-number\">\n      <h2> </h2>\n      <form className=\"tickets-number_boxes\">\n        <div className=\"tickets-number_box\">\n          <div className=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">:</div> \n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"adults\" onClick={handleChange}></span>\n            <span className=\"tickets-number_counter\">{passengers.adults}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"adults\" onClick={handleChange}>+</span>\n          </div>\n          <div className=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n            `   ${4 - passengers.adults - passengers.children} ` :\n            \"       4 \"\n            }\n            </div>\n        </div>\n\n        <div className=\"tickets-number_box\">\n          <div className=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">: </div>\n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"children\" onClick={handleChange}></span>\n            <span className=\"tickets-number_counter\">{passengers.children}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"children\" onClick={handleChange}>+</span>\n          </div>\n          <div className=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n              `   ${4 - passengers.adults - passengers.children}   10 ` :\n              \"4   \"\n            }\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport {TicketsNumber}","import React, { Fragment, useEffect, useState } from 'react';\n\nconst TrainType = (props) => {\n  const {currentType, coaches, setCurrentType, currentCoach, setCurrentCoach} = props;\n\n  const isActive = item => item === currentType ? \"train-type_item-active\" : '';\n  const getCoachName = (name) => {\n    return name.match(/\\d/g);\n  }\n  const handleTypeChange = event => {\n    if (currentType !== event.currentTarget.dataset.type) {\n      setCurrentType(event.currentTarget.dataset.type);\n    }\n  }\n\n\n  useEffect(() => {\n    setCurrentCoach(coaches[0]);\n  }\n  );\n\n  return (\n    <div className=\"train-type\">\n      <h2>  </h2>\n      <ul className=\"train-type_icons\">\n        {<li onClick={handleTypeChange} data-type=\"fourth\" className={\"train-type_item train-type_item-fourth-class \" + isActive('fourth') }></li>}\n        <li onClick={handleTypeChange} data-type=\"third\" className={\"train-type_item train-type_item-third-class \" + isActive('third')}></li>\n        <li onClick={handleTypeChange} data-type=\"second\" className={\"train-type_item train-type_item-second-class \" + isActive('second')}></li>\n        <li onClick={handleTypeChange} data-type=\"first\" className={\"train-type_item train-type_item-first-class \" + isActive('first')}></li>\n      </ul>\n\n      {coaches.length > 0 && currentCoach ? ( \n        <Fragment>\n          <div className=\"train-number_switch\">\n            : \n            <ul className=\"train-number_list\">\n              {coaches.map((el, i) => (\n                <li key={i} \n                  className={el.coach.name === currentCoach.coach.name ? \"current-train-number\" : \"\"} \n                  onClick={() => setCurrentCoach(el)}>\n                    {getCoachName(el.coach.name)}\n                  </li>)\n              )}\n            </ul>\n            <span>     </span>\n          </div>\n\n          <div className=\"train-main\">\n            <div className=\"train-number\">\n              <h2>{getCoachName(currentCoach.coach.name)}</h2>\n              <span></span>\n            </div>\n            <div className=\"seats-info\">\n              <div>\n                <span className=\"seats-info_title\"> :</span>\n                {currentType === \"second\" || currentType === \"third\" ? \n                <Fragment>\n                  <span></span>\n                  <span></span> \n                </Fragment> :\n                currentType === \"first\" ? \n                  <Fragment>\n                    <span></span>\n                    <span></span> \n                  </Fragment> : \n                  <Fragment>\n                    <span></span>\n                    <span></span> \n                  </Fragment>\n                }\n              </div>\n              <div>\n                <span className=\"seats-info_title\"></span>\n                {currentType === \"second\" || currentType === \"third\" ? \n                <Fragment>\n                  <span className=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n                  <span className=\"seats-info_price\">{currentCoach.coach.bottom_price}</span>\n                </Fragment> :\n                <Fragment>\n                  <span className=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n                  <span></span>\n                </Fragment>\n                }\n              </div>\n              <div>\n                <span className=\"seats-info_title\"></span>\n                <ul className=\"seats-info_services\">\n                  {currentCoach.coach.have_air_conditioning ? <li className=\"seats-info_service seats-info_service-air\"><span></span></li> : null}\n                  {currentCoach.coach.have_wifi ? <li className=\"seats-info_service seats-info_service-wifi\"><span></span></li> : null}\n                  {currentCoach.coach.is_linens_included ? <li className=\"seats-info_service seats-info_service-linens\"><span></span></li> : null}\n                  <li className=\"seats-info_service seats-info_service-food\"><span></span></li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </Fragment>) : \n        <div className=\"train-number_switch\">      </div>}\n    </div>\n  )\n}\n\nexport {TrainType}","import React, { useEffect } from 'react';\n\nconst TrainScheme = (props) => {\n  let Car, price;\n  const {type, coach, passengers, chosen, setChosen, cancelChosen, setTotalPrice, topPrice, bottomPrice, sidePrice} = props;\n\n  const getFirstClassPrice = () => bottomPrice;\n  const getSecondClassPrice = seat => seat % 2 === 0 ? topPrice : bottomPrice;\n  const getThirdClassPrice = seat => seat > 36 ? sidePrice : getSecondClassPrice(seat);\n  const getFourthClassPrice = () => bottomPrice;\n  \n  useEffect(() => {\n    const seats = document.querySelectorAll('.scheme_seat');\n    if (chosen.length === passengers) {\n      seats.forEach(el => {\n        if (el.classList.contains('scheme_seat-free') && !el.classList.contains('scheme_seat-chosen')) {\n          el.classList.add('scheme_seat-inactive') \n        }\n      });\n    } else {\n      seats.forEach(el => el.classList.remove('scheme_seat-inactive'))\n    }\n  }, [chosen, passengers]);\n\n  switch (type) {\n    case \"first\":\n      Car = FirstClassScheme;\n      price = getFirstClassPrice;\n      break;\n    case \"second\":\n      Car = SecondClassScheme;\n      price = getSecondClassPrice; \n      break;\n    case \"third\":\n      Car = ThirdClassScheme;\n      price = getThirdClassPrice;\n      break;\n    case \"fourth\":\n      Car = FourthClassScheme;\n      price = getFourthClassPrice;\n      break;\n    default:\n      return;\n  }\n\n\n\n  const handleClick = event => {\n    if (!event.target.classList.contains('scheme_seat') || !event.target.classList.contains('scheme_seat-free')) {\n      return;\n    }\n\n    const seat = event.target;\n    const seatId = +seat.textContent;\n\n    if (seat.classList.contains('scheme_seat-chosen')) {\n      seat.classList.remove('scheme_seat-chosen');\n      cancelChosen(seatId);\n      setTotalPrice(-price(seatId));\n    } else if (seat.classList.contains('scheme_seat-free') && chosen.length < passengers) {\n        event.target.classList.add('scheme_seat-chosen');\n        setChosen(seatId);\n        setTotalPrice(price(seatId));\n    }\n  }\n\n  const getCoachNumber = (name) => {\n    return name.match(/\\d/g);\n  }\n\n  return (\n    <div className=\"train-scheme\">\n      <div className=\"train-hint\">{type === \"second\" || type === \"third\" ? \" - ,  - \" : \"       4 \"}</div>\n      <div className=\"scheme_train-number\" title=\" \">\n        <span>{getCoachNumber(coach.coach.name)}</span>\n      </div>\n      <div className=\"scheme\" onClick={handleClick}>\n        <Car />\n      </div>\n    </div>\n  )\n}\n\nexport {TrainScheme};\n\n\nconst FirstClassScheme = () => {\n  return (\n    <div className=\"scheme_train-first-class\" >\n      <div className=\"scheme_room\"> \n        <div className=\"scheme_seat scheme_seat-free\">1</div>\n        <div className=\"scheme_seat\">2</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">3</div>\n        <div className=\"scheme_seat\">4</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">5</div>\n        <div className=\"scheme_seat\">6</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">7</div>\n        <div className=\"scheme_seat\">8</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat scheme_seat-free\">10</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">11</div>\n        <div className=\"scheme_seat\">12</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">13</div>\n        <div className=\"scheme_seat\">14</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat scheme_seat-free\">15</div>\n        <div className=\"scheme_seat scheme_seat-free\">16</div>\n      </div> \n    </div>\n  )\n}\n\nconst SecondClassScheme = () => {\n  return (\n    <div className=\"scheme_train-second-class\" > \n      <div className=\"scheme_room\"> \n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">1</div>\n          <div className=\"scheme_seat\">2</div>\n        </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">3</div>\n        <div className=\"scheme_seat\">4</div>\n      </div>\n      </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">5</div>\n        <div className=\"scheme_seat\">6</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat\">7</div>\n        <div className=\"scheme_seat\">8</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat\">10</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">11</div>\n        <div className=\"scheme_seat\">12</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\"> \n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">13</div>\n        <div className=\"scheme_seat\">14</div>\n      </div>\n      <div>\n          <div className=\"scheme_seat scheme_seat-free\">15</div>\n        <div className=\"scheme_seat\">16</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">17</div>\n        <div className=\"scheme_seat scheme_seat-free\">18</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">19</div>\n        <div className=\"scheme_seat\">20</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n        <div>\n            <div className=\"scheme_seat\">21</div>\n            <div className=\"scheme_seat scheme_seat-free\">22</div>\n          </div>\n          <div>\n            <div className=\"scheme_seat scheme_seat-free\">23</div>\n            <div className=\"scheme_seat\">24</div>\n          </div>\n      </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">25</div>\n        <div className=\"scheme_seat\">26</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">27</div>\n        <div className=\"scheme_seat\">28</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">29</div>\n        <div className=\"scheme_seat scheme_seat-free\">30</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">31</div>\n        <div className=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n    </div>\n    </div>\n  )\n}\n\nconst ThirdClassScheme = () => {\n  return (\n    <div className=\"scheme_train-third-class\">\n      <SecondClassScheme />\n      <div className=\"scheme_train-side\">\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">33</div>\n          <div className=\"scheme_seat\">34</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">35</div>\n          <div className=\"scheme_seat\">36</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">37</div>\n          <div className=\"scheme_seat scheme_seat-free\">38</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">39</div>\n          <div className=\"scheme_seat\">40</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">41</div>\n          <div className=\"scheme_seat\">42</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">43</div>\n          <div className=\"scheme_seat scheme_seat-free\">44</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">45</div>\n          <div className=\"scheme_seat scheme_seat-free\">46</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">47</div>\n          <div className=\"scheme_seat scheme_seat-free\">48</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst FourthClassScheme = () => {\n  return (\n    <div className=\"scheme_train-fourth-class\" >\n      <div className=\"scheme_row\">\n        <div className=\"scheme_seat scheme_seat-free\">1</div>\n        <div className=\"scheme_seat\">2</div>\n        <div className=\"scheme_seat\">3</div>\n        <div className=\"scheme_seat scheme_seat-free\">4</div>\n        <div className=\"scheme_seat scheme_seat-free\">5</div>\n        <div className=\"scheme_seat scheme_seat-free\">6</div>\n        <div className=\"scheme_seat scheme_seat-free\">7</div>\n        <div className=\"scheme_seat\">8</div>\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat\">10</div>\n        <div className=\"scheme_seat\">11</div>\n        <div className=\"scheme_seat scheme_seat-free\">12</div>\n        <div className=\"scheme_seat\">13</div>\n        <div className=\"scheme_seat\">14</div>\n        <div className=\"scheme_seat\">15</div>\n        <div className=\"scheme_seat\">16</div>\n        <div className=\"scheme_seat\">17</div>\n        <div className=\"scheme_seat\">18</div>\n        <div className=\"scheme_seat\">19</div>\n        <div className=\"scheme_seat\">20</div>\n        <div className=\"scheme_seat scheme_seat-free\">21</div>\n        <div className=\"scheme_seat\">22</div>\n        <div className=\"scheme_seat\">23</div>\n        <div className=\"scheme_seat scheme_seat-free\">24</div>\n        <div className=\"scheme_seat scheme_seat-free\">25</div>\n        <div className=\"scheme_seat\">26</div>\n        <div className=\"scheme_seat\">27</div>\n        <div className=\"scheme_seat\">28</div>\n        <div className=\"scheme_seat\">29</div>\n        <div className=\"scheme_seat\">30</div>\n        <div className=\"scheme_seat scheme_seat-free\">31</div>\n        <div className=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n\n      <div className=\"scheme_row scheme_row-second\">\n        <div className=\"scheme_seat\">33</div>\n        <div className=\"scheme_seat\">34</div>\n        <div className=\"scheme_seat\">35</div>\n        <div className=\"scheme_seat scheme_seat-free\">36</div>\n        <div className=\"scheme_seat scheme_seat-free\">37</div>\n        <div className=\"scheme_seat scheme_seat-free\">38</div>\n        <div className=\"scheme_seat\">39</div>\n        <div className=\"scheme_seat\">40</div>\n        <div className=\"scheme_seat\">41</div>\n        <div className=\"scheme_seat\">42</div>\n        <div className=\"scheme_seat scheme_seat-free\">43</div>\n        <div className=\"scheme_seat scheme_seat-free\">44</div>\n        <div className=\"scheme_seat scheme_seat-free\">45</div>\n        <div className=\"scheme_seat scheme_seat-free\">46</div>\n        <div className=\"scheme_seat\">47</div>\n        <div className=\"scheme_seat\">48</div>\n        <div className=\"scheme_seat scheme_seat-free\">49</div>\n        <div className=\"scheme_seat scheme_seat-free\">50</div>\n        <div className=\"scheme_seat\">51</div>\n        <div className=\"scheme_seat\">52</div>\n        <div className=\"scheme_seat\">53</div>\n        <div className=\"scheme_seat\">54</div>\n        <div className=\"scheme_seat scheme_seat-free\">55</div>\n        <div className=\"scheme_seat\">56</div>\n        <div className=\"scheme_seat scheme_seat-free\">57</div>\n        <div className=\"scheme_seat scheme_seat-free\">58</div>\n        <div className=\"scheme_seat\">59</div>\n        <div className=\"scheme_seat scheme_seat-free\">60</div>\n        <div className=\"scheme_seat\">61</div>\n        <div className=\"scheme_seat scheme_seat-free\">62</div>\n      </div>\n    </div>\n  )\n}","import React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport {ApiServiceContext} from './context';\nimport { Datepicker } from './Datepicker';\n\n\nconst DetailsTrip = (props) => {\n  const api = useContext(ApiServiceContext);\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n  \n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(true);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(true);\n  const [date, setDate] = useState(new Date());\n\n  const [forth, setForth] = useState(true);\n  const [back, setBack] = useState(true);\n\n  params.filters = `price_from=${cost.from}&price_to=${cost.to}${first ? '&have_first_className=true' : ''}${second ? '&have_second_className=true' : ''}${third ? '&have_third_className=true' : ''}${fourth ? '&have_fourth_className=true' : ''}${wifi ? '&have_wifi=true' : ''}${express ? '&have_express=true' : ''}`;\n\n\n  const addFilters = event => {\n    event.preventDefault();\n    props.update(params.filters)\n  }\n\n  const resetFilters = event => {\n    event.preventDefault();\n\n    setCost({from: 500, to: 7000});\n    setDepartureTime({from: 0, to: 24});\n    setArrivalTime({from: 0, to: 24});\n    params.filters = '';\n    window.location.href = '/search';\n  }\nlet formref;\n  const handleDropdownFilter = () => {\n    formref.classList.toggle('minimized');\n  }\n\n  const handleSortByForth = event => {\n    const list = event.currentTarget;\n    list.classList.toggle('time-picker_roll-less');\n    setForth(!forth)\n  }\n  const handleSortByBack = event => {\n    const list = event.currentTarget;\n    list.classList.toggle('time-picker_roll-less');\n    setBack(!back)\n  }\n\n\n  return (\n    <div className=\"filters-container\">\n      <div onClick={handleDropdownFilter} className=\"filter-cog\">\n            <i className=\"fas fa-cog\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n    <form ref={el => formref = el} action=\"\" className=\"search-form minimized\">\n         <fieldset onClick={handleDropdownFilter} className=\"search-form__set\" >\n\n        <div>\n          <h2> </h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = date;\n                      setDate(date)}}\n                    defaultDate={JSON.parse(sessionStorage.searchParams).date}\n                    />\n        </div>\n        <div>\n          <h2> </h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = date;\n                      setDate(date)}}\n                    defaultDate={JSON.parse(sessionStorage.searchParams).dateBack}\n                    />\n        </div>\n         </fieldset>\n         <fieldset className=\"seat-types\">\n           <Switches \n            first={first}\n            second={second}\n            third={third}\n            fourth={fourth}\n            express={express}\n            wifi={wifi}\n            setFirst={() => setFirst(!first)}\n            setSecond={() => setSecond(!second)}\n            setThird={() => setThird(!third)}\n            setFourth={() => setFourth(!fourth)}\n            setExpress={() => setExpress(!express)}\n            setWifi={() => setWifi(!wifi)}\n          />\n         </fieldset>\n         <fieldset className=\"cost-picker\" >\n           <label className=\"trainpicker_label\"></label>\n           <RangeSlider \n              onChange={data => setCost({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={cost.from}\n              to={cost.to}\n              min={500}\n              max={7000}\n              hide_min_max={true}\n              skin=\"material\"/>\n         </fieldset>\n\n         <div>\n          \n          \n          <fieldset className=\"time-picker\">\n            <div className=\"time-picker_titel\">\n              <div className=\"time-picker_icon\">\n              <span ><i className=\"material-icons\">arrow_forward</i></span>\n              </div>\n              <h2></h2>\n              <div onClick={handleSortByForth} className=\"time-picker_roll-more time-picker_roll-less\">\n                \n              </div>\n            </div>\n              {forth ? (<div>\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/></div>) : false}\n\n          </fieldset>\n         </div>\n\n         <div>\n          \n          <fieldset className=\"time-picker\">\n              <div className=\"time-picker_titel\">\n                  <div className=\"time-picker_icon\">\n                  <span ><i className=\"material-icons\">arrow_back</i></span>\n                  </div>\n                  <h2></h2>\n                  <div onClick={handleSortByBack} className=\"time-picker_roll-more time-picker_roll-less\"></div>\n                </div>\n              {back ? (<div>\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\"> </label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/></div>) : false}\n\n          </fieldset>\n         </div>\n         \n         <fieldset className=\"filters__buttons \">\n            <button onClick={addFilters} className=\"filters__button\"></button>\n         </fieldset>\n       </form>\n      </div>\n  )\n}\n\nexport {DetailsTrip}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { CurrentTrain } from './CurrentTrain';\nimport { CurrentTrainBack } from './CurrentTrainBack';\nimport { TicketsNumber } from './TicketsNumber'\nimport { TrainType } from './TrainType';\nimport { TrainScheme } from './TrainScheme';\nimport {ApiServiceContext} from './context'\nimport { DetailsTrip } from './DetailsTrip';\nimport { LastTickets } from './LastTickets'\nimport { FiltersForm } from './FiltersForm';\n\nconst SeatsPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const [data, setData] = useState([]);\n  const [coaches, setCoaches] = useState([]);\n  const [chosen, setChosen] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [currentType, setCurrentType] = useState('');\n  const [currentCoach, setCurrentCoach] = useState('');\n  const [adultSeats, setAdultSeats] = useState(1);\n  const [childrenSeats, setChildrenSeats] = useState(0);\n\n\n  const [dataBack, setDataBack] = useState([]);\n  const [coachesBack, setCoachesBack] = useState([]);\n  const [chosenBack, setChosenBack] = useState([]);\n  const [totalPriceBack, setTotalPriceBack] = useState(0);\n  const [currentTypeBack, setCurrentTypeBack] = useState('');\n  const [currentCoachBack, setCurrentCoachBack] = useState('');\n  const [adultSeatsBack, setAdultSeatsBack] = useState(1);\n  const [childrenSeatsBack, setChildrenSeatsBack] = useState(0);\n\n  const currentTrain = props.currentTrain[0] || JSON.parse(sessionStorage.currentTrain[0]);\n  const id = currentTrain['_id'];\n  const currentTrainBack = props.currentTrain[1] || JSON.parse(sessionStorage.currentTrain[1]);\n  const idBack = currentTrainBack['_id'];\n\n  \n  \n  useEffect(() => {\n      api.getSeats(id)\n        .then(response => {\n          setData(response);\n          setCurrentType(response[0].coach.class_type);\n          setCoaches(response.filter(el => el.coach.class_type === response[0].coach.class_type));\n          setCurrentCoach(response[0])\n          sessionStorage.trainId = id;\n        })\n\n        api.getSeats(idBack)\n        .then(response => {\n          setDataBack(response);\n          setCurrentTypeBack(response[0].coach.class_type);\n          setCoachesBack(response.filter(el => el.coach.class_type === response[0].coach.class_type));\n          setCurrentCoachBack(response[0])\n          sessionStorage.trainIdBack = idBack;\n        })\n    \n  }, [id, idBack]);\n\n  return currentType &&  data ? (\n    // <div>\n\n       <section className=\"columns\">\n        <div className=\"col-left\">\n          <DetailsTrip {...props} />\n          <LastTickets />\n        </div>\n        <div className=\"col-right\">\n          <div className=\"seats-choice\" >\n            <div className=\"change-train change-train-to\">\n              <span className=\"change-train_arrow\">\n                  <i className=\"material-icons\">arrow_forward</i>\n              </span>\n              <Link to=\"/search\" className=\"change-train_button\">  </Link>\n            </div>\n\n\n\n            <CurrentTrain info={currentTrain} />\n            <TicketsNumber \n              passengers={{adults: adultSeats, children: childrenSeats}}\n              setAdultSeats={seats => setAdultSeats(seats)}\n              setChildrenSeats={seats => setChildrenSeats(seats)}\n              />\n            <TrainType \n              coaches={data.filter(el => el.coach.class_type === currentType)} \n              currentType={currentType} \n              currentCoach={currentCoach}\n              setCurrentType={type => {\n                setCurrentType(type);\n                setChosen([]);\n                setTotalPrice(0);\n              }}\n              setCurrentCoach={coach => setCurrentCoach(coach)}/>\n            {currentCoach && <TrainScheme \n              passengers={adultSeats + childrenSeats}\n              type={currentType} \n              coach={currentCoach}\n              topPrice={currentCoach.coach.top_price}\n              bottomPrice={currentCoach.coach.bottom_price}\n              sidePrice={currentCoach.coach.side_price}\n              chosen={chosen}\n              setChosen={seat => {\n                const chosenSeats = chosen.slice();\n                chosenSeats.push(seat);\n                setChosen(chosenSeats);\n              }}\n              cancelChosen={seat => {\n                const chosenSeats = chosen.slice();\n                const seatToCancel = chosenSeats.findIndex(el => el.index === seat.index);\n                chosenSeats.splice(seatToCancel, 1);\n                setChosen(chosenSeats);\n              }}\n              setTotalPrice={price => setTotalPrice(totalPrice + price)}\n              />}\n            <div className=\"total-price\">{parseInt(totalPrice).toLocaleString()}</div>\n          </div>\n\n          {props.currentTrain[0]._id !== props.currentTrain[1]._id ? (\n          <div className=\"seats-choice\" >\n            <div className=\"change-train change-train-from\">\n              <span className=\"change-train_arrow\">\n                  <i className=\"material-icons\">arrow_back</i>\n              </span>\n              <Link to=\"/search\" className=\"change-train_button\">  </Link>\n            </div>\n\n\n\n            <CurrentTrainBack info={currentTrainBack} />\n            <TicketsNumber \n              passengers={{adults: adultSeats, children: childrenSeats}}\n              setAdultSeats={seats => setAdultSeats(seats)}\n              setChildrenSeats={seats => setChildrenSeats(seats)}\n              />\n            <TrainType \n              coaches={dataBack.filter(el => el.coach.class_type === currentTypeBack)} \n              currentType={currentTypeBack} \n              currentCoach={currentCoachBack}\n              setCurrentType={type => {\n                setCurrentTypeBack(type);\n                setChosenBack([]);\n                setTotalPriceBack(0);\n              }}\n              setCurrentCoach={coach => setCurrentCoachBack(coach)}/>\n            {currentCoachBack && <TrainScheme \n              passengers={adultSeats + childrenSeats}\n              type={currentTypeBack} \n              coach={currentCoachBack}\n              topPrice={currentCoachBack.coach.top_price}\n              bottomPrice={currentCoachBack.coach.bottom_price}\n              sidePrice={currentCoachBack.coach.side_price}\n              chosen={chosenBack}\n              setChosen={seat => {\n                const chosenSeats = chosenBack.slice();\n                chosenSeats.push(seat);\n                setChosenBack(chosenSeats);\n              }}\n              cancelChosen={seat => {\n                const chosenSeats = chosenBack.slice();\n                const seatToCancel = chosenSeats.findIndex(el => el.index === seat.index);\n                chosenSeats.splice(seatToCancel, 1);\n                setChosenBack(chosenSeats);\n              }}\n              setTotalPrice={price => setTotalPriceBack(totalPriceBack + price)}\n              />}\n            <div className=\"total-price\">{parseInt(totalPriceBack).toLocaleString()}</div>\n          </div>) : false}\n\n          <div className=\"to-order-button-container\">\n            <Link to={{\n              pathname: '/passengers', \n              passengers: {adults: adultSeats, children: childrenSeats},\n              passengersBack: {adults: adultSeats, children: childrenSeats},\n              seats: chosen,\n              seatsBack: chosenBack,\n              price: totalPrice,\n              priceBack: totalPriceBack\n              }}>\n                <button className=\"to-order-button\" \n                  disabled={chosen.length === 0 || adultSeats + childrenSeats !== chosen.length}></button>\n            </Link>\n          </div>\n        {/* </div> */}\n      </div>\n    </section>\n    ) : <div className=\"loader\"><div className=\"loader_image\"></div></div>\n  \n}\n\nexport {SeatsPage}","import React, { useEffect, useRef, useState, useContext } from 'react';\nimport { CurrentTrain } from './CurrentTrain';\n\nconst TripDetails = (props) => {\n  const currentTrain = props.props.currentTrain[0] || JSON.parse(sessionStorage.currentTrain[0]);\n  const id = currentTrain['_id'];\n  const currentTrainBack = props.props.currentTrain[1] || JSON.parse(sessionStorage.currentTrain[1]);\n  const idBack = currentTrainBack['_id'];\n\n  const trainBack = id !== idBack;\n\n  const [forth, setForth] = useState(true);\n  const [back, setBack] = useState(true);\n\n  const data = currentTrain;\n  const travelDate = new Date(JSON.parse(sessionStorage.searchParams).date);\n  const dateBack = currentTrainBack;\n  const travelDateBack = new Date(JSON.parse(sessionStorage.searchParams).dateBack);\n  const arrivalDate = new Date(travelDate);\n  arrivalDate.setHours(arrivalDate.getHours() + (new Date(data.duration * 1000)).getHours());\n\n  const handleSortByForth = event => {\n    const list = event.currentTarget;\n    list.classList.toggle('time-picker_roll-less');\n    setForth(!forth)\n  }\n  const handleSortByBack = event => {\n    const list = event.currentTarget;\n    list.classList.toggle('time-picker_roll-less');\n    setBack(!back)\n  }\n\n  return (\n    <div className=\"trip-details\">\n      <h2> </h2>\n      <div className=\"trip-details_to\">\n\n      <div className=\"trip-details_title\">\n          <h3  className=\"trainpicker_label trainpicker_label-to\"></h3>\n          <div className=\"trainpicker_label-date\">\n            <span>{travelDate.toLocaleDateString()}</span>\n          </div>\n          <div onClick={handleSortByForth} className=\"time-picker_roll-more time-picker_roll-less\">\n              </div>\n      </div>\n\n      {forth ? (<div>\n\n        <div className=\"trip-details_date\"></div>\n\n        <div className=\"train-details\">\n          <div>\n            {/* <span></span> */}\n            <span> </span>\n            <span></span>\n          </div>\n          <div>\n            <span><b>{data.train.name}</b></span>\n            <span><b>{data.from.city.name}<br/>{data.to.city.name}</b></span>\n          </div>\n        </div>\n              \n        <div className=\"time-details\">\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n          </div>\n          <div className=\"time-details_arrow\">{Math.floor(data.duration  / 60 / 60) + \":\" +  Math.floor((data.duration / 60) % 60) }</div>\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{arrivalDate.toLocaleDateString()}</span>\n          </div>\n        </div>\n        <div className=\"direction-details\">\n          <div>\n            <span className=\"direction-details_city\">{data.from.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.from.railway_station_name}</span>\n          </div>\n          <div>\n            <span className=\"direction-details_city\">{data.to.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.to.railway_station_name}</span>\n          </div>\n        </div>\n      </div>) : false}\n\n\n\n\n\n      \n  </div>\n\n\n  {trainBack ? (\n  <div className=\"trip-details_back\">\n      <div className=\"trip-details_title\">\n          <h3  className=\"trainpicker_label trainpicker_label-to\"></h3>\n          <div className=\"trainpicker_label-date\">\n            <span>{travelDateBack.toLocaleDateString()}</span>\n          </div>\n          <div onClick={handleSortByBack} className=\"time-picker_roll-more time-picker_roll-less\">\n              </div>\n      </div>\n\n      {back ? (<div>\n\n        <div className=\"trip-details_date\"></div>\n\n        <div className=\"train-details\">\n          <div>\n            <span> </span>\n            <span></span>\n          </div>\n          <div>\n            <span><b>{dateBack.train.name}</b></span>\n            <span><b>{dateBack.from.city.name}<br/>{dateBack.to.city.name}</b></span>\n          </div>\n        </div>\n              \n        <div className=\"time-details\">\n          <div>\n            <span className=\"time-details_time\">{(new Date(dateBack.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{travelDateBack.toLocaleDateString()}</span>\n          </div>\n          <div className=\"time-details_arrow time-details_arrow-back\">{Math.floor(dateBack.duration  / 60 / 60) + \":\" +  Math.floor((dateBack.duration / 60) % 60) }</div>\n          <div>\n            <span className=\"time-details_time\">{(new Date(dateBack.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{arrivalDate.toLocaleDateString()}</span>\n          </div>\n        </div>\n        <div className=\"direction-details\">\n          \n          <div>\n            <span className=\"direction-details_city\">{dateBack.to.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{dateBack.to.railway_station_name}</span>\n          </div>\n          <div>\n            <span className=\"direction-details_city\">{dateBack.from.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{dateBack.from.railway_station_name}</span>\n          </div>\n        </div>\n      </div>) : false}</div>\n    ) : false}\n  \n    <div className=\"trip-details_passengers\">\n      <div className=\"trip-details_title \">\n        <h3  className=\"trainpicker_label trainpicker_label-passenger\"></h3>\n      </div>\n      <div className=\"train-details passengers-details \">\n        <div>{\": \"}<b>{props.passengers.adults}</b></div>\n        <div>{\": \"}<b>{props.passengers.children}</b></div>\n        </div>\n    </div>\n\n      <div className=\"trip-details_total\">\n        <span></span>\n        <span className=\"\">{parseInt(props.price).toLocaleString()}</span>\n      </div>\n    </div> \n  )\n}\n\nexport {TripDetails}","import React from 'react'\nimport MaskedInput from 'react-text-mask';\nimport Input from '@material-ui/core/Input';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\nconst materialTheme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  \n  overrides: {\n    MuiFormControl: {\n      root: {\n       width: '100%',\n       display: 'block'\n      }\n     }, \n     MuiInput: {\n      underline: {\n        borderRadius: '3px',\n        '&:after': {\n          display: 'none'\n        },\n        '&:before': {\n          display: 'none'\n        },\n        '&:hover': {\n          borderBottom: 'none !important'\n        }\n    \n      }\n     },\n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        boxSizing: 'border-box',\n      },\n      /*    */\n      input: {\n        boxSizing: 'border-box',\n        fontSize: '18px',\n        fontWeight: '100',\n        padding: '3px 0 3px 10px',\n        height: '30px',\n        width: '100%',\n        border: '1px solid #928F94',\n        outline: 'none',\n        borderRadius: '3px',\n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        'borderRadius': '3px'\n      },\n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      }\n    } \n  },\n});\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n  return (\n    <MaskedInput\n      {...other}\n      ref={ref => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      mask={props.mask}\n      prefix={props.prefix}\n      placeholderChar={'_'}\n      showMask\n    />\n  );\n}\n\nexport default function FormattedInput(props) {\n\n  const [values, setValues] = React.useState({\n    textmask: '    '\n  });\n\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      [name]: event.target.value,\n    });\n    props.onChange(event.target.value)\n  };\n\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n      <FormControl>\n        <Input\n          value={values.textmask}\n          onChange={handleChange('textmask')}\n          id=\"formatted-text-mask-input\"\n          inputComponent={TextMaskCustom}\n          inputProps={{\n            mask: props.inputmask\n          }}\n        />\n      </FormControl>\n      </MuiThemeProvider>\n  );\n}","import React, { useRef, useState, Fragment, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport {Datepicker} from './Datepicker';\n\nconst PassengersPage = (props) => {\n  \n  if (props.location.passengers) {\n    sessionStorage.passengers = JSON.stringify(props.location.passengers);\n    sessionStorage.seats = JSON.stringify(props.location.seats);\n    sessionStorage.price = props.location.price;\n    sessionStorage.passengersBack = JSON.stringify(props.location.passengersBack);\n    sessionStorage.seatsBack = JSON.stringify(props.location.seatsBack);\n    sessionStorage.priceBack = props.location.priceBack;\n  }\n\n  const passengers = props.location.passengers || JSON.parse(sessionStorage.passengers);\n  const price = props.location.price || JSON.parse(sessionStorage.price);\n  const passengersBack = props.location.passengersBack || JSON.parse(sessionStorage.passengersBack);\n  const priceBack = props.location.priceBack || JSON.parse(sessionStorage.priceBack);\n  const totalPrice = price + (typeof(priceBack) === 'number' ? priceBack : 0);\n  sessionStorage.totalPrice = JSON.stringify(totalPrice);\n  \n  const [valid, setValid] = useState([]);\n  const [passengersList, setPassengersList] = useState([])\n\n  const savePassengers = passenger => {\n    const passengers = passengersList.slice();\n    passengers.push(passenger);\n    setPassengersList(passengers);\n  }\n  \n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails props={props} passengers={passengers} price={totalPrice}/>\n      </div>\n      <div className=\"col-right\">\n        {(new Array(passengers.adults))\n            .fill('')\n            .map((p, i) => <PassengerCard \n                              passenger={i + 1} \n                              open={i > 0 ? false : true} \n                              adult \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        {(new Array(passengers.children))\n              .fill('')\n              .map((p, i) => <PassengerCard \n                              passenger={passengers.adults + 1 + i} \n                              open={false} \n                              child \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        <Link to='/payment' >\n          <button disabled={valid.length !== passengers.adults + passengers.children}  onClick={() => sessionStorage.passengersList = JSON.stringify(passengersList)} className=\"to-order-button\"></button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\n\nconst PassengerCard = ({open, passenger, child, adult, valid, setValid, setPassengers}) => {\n  const [isOpen, setOpen] = useState(open);\n  let formRef = useRef(null);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [dateOfBirth, setDateOfBirth] = useState(null);\n  const [gender, setGender] = useState('');\n  const [disabilities, setDisabilities] = useState(false);\n  const [passport1, setPassport1] = useState('');\n  const [passport2, setPassport2] = useState('');\n  const [certificate, setCertificate] = useState('');\n  const [isPassportChosen, setIsPassportChosen] = useState(adult);\n \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^-- -]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const isNameValid = () => {\n    if (firstName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"  !\")\n    }\n    if (lastName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"  \")\n    }\n    if (patronymic.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"  \")\n    }\n  }\n\n  const isPassportValid = () => {\n    if (isPassportChosen) {\n      if (passport1.match(/_/)) {\n        throw new Error (\" 4   \")\n      }\n      if (passport2.match(/_/)) {\n        throw new Error (\" 6   \")\n      }\n    } else {\n      if (certificate.match(/_/)) {\n        throw new Error (\" 12     \")\n      }\n    }\n  }\n\n  const isValid = () => {\n    try {\n      isNameValid();\n      isPassportValid();\n    } catch (e) {\n      return <span className=\"error\">{e.message}</span>;\n    }\n    if (!valid.find(el => el === passenger)) {\n      const validated = valid.slice();\n      validated.push(passenger);\n      setValid(validated);\n    }\n    return <span className=\"valid\">!</span>;\n  }\n\n  const isPassportComplete = passport1.replace(/\\s|_/g, '').length === 4 && passport2.replace(/\\s|_/g, '').length === 6;\n  const isCertificateComplete = certificate.replace(/\\s|_/g, '').length === 12;\n  const isComplete = firstName && lastName && patronymic && (isPassportComplete || isCertificateComplete) && dateOfBirth;\n\n  useEffect(() => {\n    if (isComplete) {\n      setPassengers({\n      name: lastName + \" \" + firstName + \" \" + patronymic,\n      gender: \" \" + gender,\n      dateOfBirth: \"  \" + dateOfBirth,\n      document: isPassportChosen ? \n                \"  \" + passport1.replace(/\\s/g, \"\") + passport2.replace(/\\s/g, \"\") : \n                \"   \" + certificate.replace(/\\s/g, \"\"),\n      adult: adult\n    })\n  }\n  },  [isComplete]);\n \n  if (isOpen) {\n    const today = new Date();\n    const minDate = adult ? new Date(today.setYear(today.getFullYear() - 100)) : new Date(today.setYear(today.getFullYear() - 10));\n    \n    return (\n      <div className=\"passengers-card passengers-card_open\">\n        <div onClick={() => setOpen(!isOpen)} className=\"passengers-card_title\"> {passenger}</div>\n        <form ref={formRef} action=\"\" className=\"passengers-card_form\">\n        <fieldset>\n          <div className=\"select-container\">\n            <select defaultValue={adult ? \"adult\" : \"child\"} className=\"passengers-card_select\" name=\"\" id=\"\">\n              <option disabled={child} value=\"adult\"></option>\n              <option disabled={adult} value=\"child\"></option>\n            </select>\n          </div>\n          <div className=\"personal-details\">\n            <label htmlFor=\"last-name\">\n              <input value={lastName} onChange={handleInput}  type=\"text\" name=\"last-name\" className=\"passengers-card_last-name\" id=\"\"/>\n            </label>\n            <label htmlFor=\"first-name\">\n              <input value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" className=\"passengers-card_name\" id=\"\"/>\n            </label>\n            <label htmlFor=\"patronymic\">\n              <input value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" className=\"passengers-card_patronymic-name\" id=\"\"/>\n            </label>\n          </div>\n          <div className=\"personal-details\">\n            <label className=\"gender_label\" htmlFor=\"gender\"> <br/>\n              <input onChange={() => setGender(\"\")} defaultChecked value=\"\" type=\"radio\" className=\"gender\" name=\"gender\" id=\"gender\"/>\n              <input onChange={() => setGender(\"\")} value=\"\" type=\"radio\" className=\"gender\" name=\"gender\" id=\"gender\"/>\n            </label>\n            <label className=\"birth-picker\">\n                \n              <Datepicker\n                minDate={minDate}\n                minDateMessage=\"   \"\n                disableFuture\n                adornment={{style: {display: \"none\"}}} \n                defaultDate={null}\n                onDateSelect={(date) => setDateOfBirth(date.toLocaleDateString())}/>\n            </label>\n          </div>\n          <div className=\"disabilities-check\">\n            <input checked={disabilities} onChange={() => setDisabilities(!disabilities)} type=\"checkbox\" id=\"disabilities\" className=\"disabilities\"/>\n            <label htmlFor=\"disabilities\"> </label>\n          </div>\n        </fieldset>\n\n        <fieldset>\n          <div>\n            <label className=\"select-label\" htmlFor=\"\">\n               \n              <select defaultValue={adult ? \"\" : \"\"} onChange={() => setIsPassportChosen(!isPassportChosen)}  name=\"\" id=\"\">\n                <option value=\"\"></option>\n                <option disabled={adult} value=\"\">  </option>\n              </select>\n            </label>\n            {adult  ? \n              <Fragment>\n                <label htmlFor=\"\">\n                \n                <MaskedInput value={passport1} onChange={value => setPassport1(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              <label htmlFor=\"\">\n                \n                <MaskedInput value={passport2} onChange={value => setPassport2(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              </Fragment> :\n              <label htmlFor=\"\">\n              \n              <MaskedInput value={certificate} onChange={value => setCertificate(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n              </label>\n            }\n          </div>\n        </fieldset>\n\n        <fieldset>\n          {firstName && lastName && patronymic && ((passport1 && passport2) || certificate) && dateOfBirth ? <output className=\"error\">{isValid()}</output> : <output><span className=\"warning\">,    !</span></output>}\n          \n        </fieldset>\n      </form>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"passengers-card \">\n        <div onClick={() => setOpen(!isOpen)}  className=\"passengers-card_title \"> {passenger}</div>\n      </div>\n    )\n  }\n}\n\nexport {PassengersPage}","import React, { useState } from 'react';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport { Link } from 'react-router-dom';\n\nconst PaymentPage = (props) => {\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.totalPrice);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('credit-card');\n\n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^--]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const handleEmail = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handlePayment = event => {\n    setPaymentMethod(event.currentTarget.id);\n  }\n\n  \n  const isEmailValid = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,10}$/i.test(email);\n  const isPhoneIncomplete = /_/.test(phone);\n  const isNameComplete = firstName && lastName && patronymic;\n  \n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails props={props} passengers={passengers} price={price}/>\n      </div>\n      <div className=\"col-right\">\n      <div className=\"order\">\n        <form className=\"order-details\" id=\"order-details\">\n          <div className=\"order_title\">  </div>\n            <fieldset className=\"order_payer\">\n              <div className=\"personal-details\">\n                  <label htmlFor=\"last-name\">\n                    <input required value={lastName} onChange={handleInput} type=\"text\" name=\"last-name\" className=\"passengers-card_last-name\" id=\"\"/>\n                  </label>\n                  <label htmlFor=\"first-name\">\n                    <input required value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" className=\"passengers-card_name\" id=\"\"/>\n                  </label>\n                  <label htmlFor=\"patronymic\">\n                    <input required value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" className=\"passengers-card_patronymic-name\" id=\"\"/>\n                  </label>\n              </div>\n              <div className=\"contact-details\">\n                  <label htmlFor=\"\"> \n                    <MaskedInput  value={phone} onChange={value => setPhone(value)} prefix=\"+7\" inputmask={['+', '7', ' ', '(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}/>\n                    {isPhoneIncomplete ? <div style={{color: \"red\"}}> 10     +7     987 654 3210</div> : \"\"}\n                  </label>\n                  <label htmlFor=\"\">Email\n                    <input value={email} onChange={handleEmail} type=\"email\" name=\"email\" placeholder=\"email@mail.ru\" className=\"passengers-card_email\" style={{textTransform: \"none\"}}/>\n                    {isEmailValid ? \"\" : <div style={{color: \"red\"}}>  email   email@mail.ru</div>}\n                  </label>\n              </div>\n            </fieldset>\n \n            <div className=\"order_title\"> </div>\n            \n            <fieldset className=\"payment-methods\">\n              <div>\n                <input onChange={handlePayment} defaultChecked type=\"radio\" name=\"payment-method\" id=\"credit-card\"/>\n                <label htmlFor=\"credit-card\"> \n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"paypal\"/>\n                <label htmlFor=\"paypal\">PayPal\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"qiwi-wallet\"/>\n                <label htmlFor=\"qiwi-wallet\">Visa QIWI Wallet\n                </label>\n              </div>\n            </fieldset>\n        </form>\n\n      </div>\n        <Link to={{ pathname: '/confirmation', paymentMethod: paymentMethod}}>\n          <button onClick={() => sessionStorage.payer = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            patronymic: patronymic,\n            phone: phone,\n            email: email,\n            payment_method: \"online\"\n            })} className=\"purchase-button\" disabled={!(isEmailValid && !isPhoneIncomplete && isNameComplete)}> </button>\n        </Link>\n      </div>\n    </div>\n    \n  )\n}\n\nexport {PaymentPage}","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { TrainSchedule } from './TrainSchedule';\nimport { TrainScheduleBack } from './TrainScheduleBack';\n\n\nconst TrainCardFinal = (props) => {\n  \n  const {departure} = props;\n  const trainsBack = props.trainsBack.departure  || props.trainsBack;\n  const ArrCurrentTrains = [];\n  ArrCurrentTrains.push(departure, trainsBack)\n\n  return (\n    <div className=\"train\">\n      <div className=\"train-info\">\n        <div className=\"train-icon\"></div>\n        <h4 className=\"train-info_number\">{departure.train.name}</h4>\n        <div className=\"train-info_destination\">\n          <div className=\"train-info_name\">{departure.from.city.name}</div>\n          <div className=\"train-info_name\">{departure.to.city.name}</div>\n        </div>\n      </div>\n      <div className=\"train-schedule-all\">\n      <TrainSchedule info={departure} showTravelTime />\n      <TrainScheduleBack info={trainsBack} showTravelTime />\n        </div>  \n      \n\n         <div className=\"train-seats\">\n            <ul className=\"train-seats_list\">\n              {departure.have_fourth_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.fourth}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_second_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.second}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_third_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.third}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_first_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.first}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul>\n\n              <ul className=\"train-seats_list\">\n              {trainsBack.have_fourth_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.fourth}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_second_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.second}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_third_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.third}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {trainsBack.have_first_class ?  \n                <li >\n                  <span className=\"train-seats_type\"></span>\n                  <span className=\"train-seats_amount\">{trainsBack.available_seats_info.first}</span>\n                  <span className=\"train-seats_price\">{trainsBack.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul>\n\n            <div>\n              <div className=\"train-seats_icons\">\n                {departure.have_wifi ? <span title=\" wi-fi\"><i className=\"fas fa-wifi\"></i></span> : null}\n                {departure.have_air_conditioning ? <span title=\" \"><i className=\"far fa-snowflake\"></i></span> : null}\n                {departure.is_express ? <span title=\"\"><span className=\"rocket\"></span></span> : null}\n              </div>\n              <div className=\"train-seats_button-container\">\n                <Link className=\"train-seats_button train-seats_button-not-color\" to='/search'>\n                 </Link>\n              </div>\n            </div>\n       </div>\n      </div>\n      \n  )\n}\n\nexport {TrainCardFinal}","import React from 'react';\nimport { TripDetails } from './TripDetails';\nimport { CurrentTrain } from './CurrentTrain';\nimport {Link} from 'react-router-dom';\nimport { TrainCardFinal } from './TrainCardFinal';\n\nconst ConfirmationPage = (props) => {\n  console.log(props)\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.totalPrice);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  \n  \n  const {paymentMethod} = props.location;\n\n  const formatPaymentMethod = () => {\n    switch (paymentMethod) {\n      case \"paypal\": \n        return \"PayPal\";\n      case \"credit-card\":\n        return \" \";\n      case \"qiwi-wallet\":\n        return \"Visa QIWI Wallet\";\n      default:\n        return;\n    }\n  }\n\n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails props={props} passengers={passengers} price={price}/>\n      </div>\n\n      <div className=\"col-right\">\n        <div className=\"confirmation\">\n          <div className=\"order_title\"></div>\n          <TrainCardFinal \n          trainsBack={props.currentTrain[1]}\n                                \n                                departure={props.currentTrain[0]} \n                                \n  />\n        </div>\n\n        <div className=\"confirmation\">\n          <div className=\"order_title\"></div>\n          <PassengersList list={passengersList} />\n        </div>\n\n        <div className=\"confirmation\">\n          <div className=\"order_title\"> </div>\n          <div className=\"confirmation_payment\">\n            <div className=\"confirmation_method\">{formatPaymentMethod()}</div>\n            <div className=\"confirmation_price\">\n              <span>:</span>\n              <span>{parseInt(price).toLocaleString()}</span>\n            </div>\n          </div>\n        </div>\n\n        <Link to='/success' >\n          <button className=\"purchase-button\"></button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport {ConfirmationPage}\n\n\nconst PassengersList = (props) => {\n  const {list} = props;\n  return list.map((el, i) => <PassengersListItem key={i} info={el}/>)\n}\n\nconst PassengersListItem = ({key, info}) => {\n  return (\n    <div className=\"passenger\">\n      <div className=\"passenger-icon\">\n        <div className=\"passenger-icon_img\"></div>\n        <div className=\"passenger-icon_title\">{info.adult ? \"\" : \"\"}</div>\n      </div>\n      <div className=\"passenger-info\">\n        <div className=\"passenger-info_name\">{info.name}</div>\n        <div className=\"passenger-info_other\">{info.gender}</div>\n        <div className=\"passenger-info_other\">{info.dateOfBirth}</div>\n        <div className=\"passenger-info_other\">{info.document}</div>\n      </div>\n    </div>\n  )\n}\n\n","import React, { useEffect, useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\n\n\nconst SuccessPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const payer = JSON.parse(sessionStorage.payer);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const seats = JSON.parse(sessionStorage.seats);\n  const price = parseInt(sessionStorage.totalPrice);\n  \n  const order = {\n    user: payer,\n    departure: {\n      route_direction_id: train[\"_id\"],\n      seats: passengersList.map((el, i) => { \n        return {\n          person_info: {\n            is_adult: el.adult,\n            first_name: el.firstName,\n            last_name: el.lastName,\n            patronymic: el.patronymic,\n            gender: el.gender,\n            birthday: el.dateOfBirth,\n            document_type: el.document\n          },\n          seat_number: seats[i]\n        }\n        })\n    }\n  }\n  useEffect(() => {\n    api.createOrder(order)\n      .then(response => console.log(response))\n  }, []);\n\n  return (\n    <div className=\"success\">\n      <h1 className=\"success_title\">   !</h1>\n      <div className=\"success_banner\">\n        <div className=\"success_order\">\n          <div className=\"success_id\">  285</div>\n          <div className=\"success_price\">{price.toLocaleString()}</div>\n        </div>\n\n        <ul className=\"success_icons\">\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-computer\"></span>\n            <span className=\"success_text\">     e-mail</span>\n          </li>\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-tickets\"></span>\n            <span className=\"success_text\">      </span>\n          </li>\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-conductor\"></span>\n            <span className=\"success_text\">    </span>\n          </li>\n        </ul>\n\n        <div className=\"success-info\">\n          <h2 className=\"success-info_title\">{payer.first_name + \" \" + payer.patronymic + \"!\"}</h2>\n          <p>\n               . <br/>\n                     .\n          </p>\n          <h3>       !</h3>\n        </div>\n\n        <div className=\"rating\">\n          <span className=\"rating_text\"> </span>\n          <Stars />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport { SuccessPage }\n\n\nconst Stars = () => {\n  const starList = (new Array(5)).fill('');\n  const [rating, setRating] = useState(-1);\n  const handleClick = event => {\n    setRating(event.currentTarget.dataset.id);\n  };\n  return (\n    <div className=\"rating_stars\">\n      {starList.map((el, i) => <Star index={i} rating={rating} onClick={handleClick}/>)}\n    </div>\n  )\n}\n\nconst Star = ({index, rating, onClick}) => {\n  const fill = index > rating ? \"none\" : \"#FFFFFF\";\n  return (\n    <svg data-id={index} onClick={onClick} width=\"36\" height=\"34\" viewBox=\"0 0 56 44\" fill={fill} xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z\" stroke=\"white\" stroke-width=\"2\"/>\n    </svg>\n  )\n}","import React, { useState } from 'react';\nimport {BrowserRouter, Switch, Route, withRouter} from 'react-router-dom'\n\nimport {Homepage} from './js/Homepage';\nimport {Header } from './js/Header';\nimport {Footer} from './js/Footer';\nimport {SearchPage} from './js/SearchPage';\nimport { SeatsPage } from './js/SeatsPage';\nimport { PassengersPage } from './js/PassengersPage';\nimport { PaymentPage } from './js/PaymentPage';\nimport { ConfirmationPage } from './js/ConfirmationPage';\nimport { SuccessPage } from './js/SuccessPage';\n\nimport { ApiService } from './js/ApiService';\nimport { ApiServiceContext } from './js/context'\n\nconst apiService = new ApiService();\n\nconst App = () => {\n  if (sessionStorage.searchParams === undefined && sessionStorage.currentTrain === undefined) {\n    sessionStorage.searchParams = JSON.stringify({});\n    sessionStorage.currentTrain = JSON.stringify({});\n  }\n\n  const HeaderComponent = withRouter(Header);\n\n  const [searchParams, setSearchParams] = useState(JSON.parse(sessionStorage.searchParams));\n  const [currentTrain, setCurrentTrain] = useState(JSON.parse(sessionStorage.currentTrain));\n  const [trains, setTrains] = useState([]);\n  const [trainsReverse, setTrainsReverse] = useState([]);\n\n\n  const [homepageRefs, setHomepageRefs] = useState({\n    about: 700,\n    how: 1100,\n    reviews: 1700,\n    contacts: 2300\n  });\n\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL+'/'}>\n    <ApiServiceContext.Provider value={apiService}>\n      <HeaderComponent \n        homepageRefs={homepageRefs}\n        setSearchParams={params => {\n          setSearchParams(params);\n          sessionStorage.searchParams = JSON.stringify(params);\n        }}/>\n      <Switch>\n        <Route path='/search' \n                render={props => <SearchPage \n                                  {...props}  \n                                  searchParams={searchParams} \n                                  trains={trains}\n                                  setTrains={trains => setTrains(trains)}\n\n\n                                  trainsReverse={trainsReverse}\n                                  setTrainsReverse={trainsReverse => setTrainsReverse(trainsReverse)}\n                                  \n                                  setSearchParams={params => {\n                                    setSearchParams(params);\n                                    sessionStorage.searchParams = JSON.stringify(params);\n                                  }}\n                                  \n                                  \n                                  setCurrentTrain={train => {\n                                    sessionStorage.currentTrain = JSON.stringify(train);\n                                    setCurrentTrain(train);\n                                  }} />}\n                                  />\n        <Route path='/seats' \n                render={props => <SeatsPage \n                                  {...props} \n                                  currentTrain={currentTrain}/>}\n                                />\n        <Route path='/payment' render={props => <PaymentPage \n                                  {...props} \n                                  currentTrain={currentTrain}/>} \n                                  />\n        <Route path='/passengers' render={props => <PassengersPage \n                                  {...props} \n                                  currentTrain={currentTrain}/>} \n                                  />\n        <Route path='/confirmation' render={props => <ConfirmationPage \n                                  {...props} \n                                  currentTrain={currentTrain}/>} \n                                  />\n        <Route path='/success' component={SuccessPage}/>\n        <Route path='/' exact render={props => <Homepage {...props} setHomepageRefs={setHomepageRefs}/>} />\n      </Switch>\n      <Footer/>\n      </ApiServiceContext.Provider>\n    </BrowserRouter>\n  )\n\n}\n\nexport default App;\n\n","import React from 'react';\n\nexport const ApiContext = React.createContext();\n\nexport class ApiService {\n  fetchData = async (urlEntity, options = {method: 'GET'}) => {\n    const res = await fetch(`https://netology-trainbooking.herokuapp.com${urlEntity}`, options);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${urlEntity}, status - ${res.status}`)\n    } \n    return await res.json()\n  }\n\n  getCities = async (query) => {\n    return await this.fetchData(`/routes/cities?name=${query}`)\n  }\n\n  getRoutes = async (params, sortBy, limit, offset) => {\n    return await this.fetchData(`/routes?from_city_id=${params.from.id}&to_city_id=${params.to.id}&sort=${sortBy}&limit=${limit}&offset=${offset}&${params.filters || \"?\"}`)\n  }\n\n  getRoutesReverse = async (params, sortBy, limit, offset) => {\n    return await this.fetchData(`/routes?from_city_id=${params.to.id}&to_city_id=${params.from.id}&sort=${sortBy}&limit=${limit}&offset=${offset}&${params.filters || \"?\"}`)\n  }\n\n  getSeats = async (id) => {\n    return await this.fetchData(`/routes/${id}/seats`)\n  }\n\n  createOrder = async (order) => {\n    return await this.fetchData(`/order`, {\n      method: 'POST',\n      body: JSON.stringify(order)\n    })\n  }\n\n  subscribe = async (email) => {\n    return await this.fetchData(`/subscribe?${email}`, {\n      method: 'POST'\n    })\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport SwitchGroup from './js/CustomSwitch';\nimport {Datepicker } from './js/Datepicker';\nimport MaskedInput from './js/MaskedInput'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}