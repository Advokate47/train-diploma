(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,a,t){e.exports=t(302)},145:function(e,a,t){},302:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),c=t(21),r=t.n(c),l=(t(145),t(3)),i=t(40),m=t(13),o=n.a.createContext(),u=function(e){var a=Object(s.useContext)(o),t=e.placeholder,c=e.onSelect,r=Object(s.useState)([]),i=Object(l.a)(r,2),m=i[0],u=i[1],d=Object(s.useState)(!1),E=Object(l.a)(d,2),_=E[0],h=E[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],N=p[1],b=Object(s.useState)(e.value),g=Object(l.a)(b,2),k=g[0],O=g[1],S=Object(s.useState)(e.value),y=Object(l.a)(S,2);y[0],y[1];Object(s.useEffect)(function(){sessionStorage.travelFromName=k,sessionStorage.travelToName=k},[e.value,k]);var j,w=function(e){var t=e.currentTarget.value||"\u0430";a.getCities(t).then(function(e){N(""),h(!0),u(e)})},C=function(){setTimeout(function(){return h(!1)},1e3)},x=function(e){var t=e.currentTarget.value;O(t),a.getCities(t).then(function(e){var a=e.length>0?e.find(function(e){return e.name.startsWith(t)}):"";N(a?a.name:""),h(!0),u(e)})},T=-1,P=function(e){if(j)if("ArrowDown"===e.key)T++,Array.from(j.children).forEach(function(e){return e.classList.remove("suggestion-active")}),T>j.children.length-1&&(T=0),j.children[T].classList.add("suggestion-active");else if("ArrowUp"===e.key)T--,Array.from(j.children).forEach(function(e){return e.classList.remove("suggestion-active")}),T<0&&(T=j.children.length-1),j.children[T].classList.add("suggestion-active");else if("Enter"===e.key){var a=Array.from(j.children).find(function(e){return e.classList.contains("suggestion-active")});if(!a)return;c({name:a.textContent,id:a.dataset.id}),O(a.textContent),N(""),h(!1)}else x(e)};return n.a.createElement("div",{className:"input-with-icon"},n.a.createElement("span",{className:"trainpicker__hint"},n.a.createElement("span",{className:"trainpicker__hint-transparent"},v.slice(0,k.length)),v.slice(k.length)),sessionStorage.travelToNameSwap!==sessionStorage.travelToName?n.a.createElement("input",{className:"trainpicker__input trainpicker__input-direction",value:k,onChange:x,onFocus:w,onBlur:C,type:"text",placeholder:t,onKeyDown:P}):n.a.createElement("input",{className:"trainpicker__input trainpicker__input-direction",value:e.value,onChange:x,onFocus:w,onBlur:C,type:"text",placeholder:t,onKeyDown:P}),n.a.createElement("i",{className:"material-icons trainpicker__icon"},"room"),_&&m.length>0?n.a.createElement("ul",{ref:function(e){return j=e},onClick:function(e){O(e.target.textContent),N(""),c({name:e.target.textContent,id:e.target.dataset.id}),h(!1)},className:"suggestions"},m.map(function(e){return n.a.createElement("li",{key:e._id,"data-id":e._id},e.name)})):null)},d=t(38),E=t(88),_=t(136),h=t(135),f=t(39),p=Object(f.createMuiTheme)({typography:{useNextVariants:!0},overrides:Object(d.a)({MuiPickersCalendarHeader:{daysHeader:{display:"none"}},MuiPickersDay:{day:{fontFamily:"Roboto"},isSelected:{backgroundColor:"rgba(255, 168, 0, 0.31)",border:"2px solid #FFA800",borderRadius:"5px",color:"black","&:hover":{backgroundColor:"rgba(255, 168, 0, 0.31)"}},current:{color:"orange",background:"inherit",border:"none"}},MuiIconButton:{label:{color:"inherit"},root:{padding:0}},MuiFormControl:{root:{width:"100%",display:"block"}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",width:"100%",boxSizing:"border-box",height:"50px"},input:{fontSize:"16px",fontWeight:"100",padding:"0 0 0 10px",width:"100%",border:0,outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px",lineHeight:"1em"},input:{padding:"15.5px"},notchedOutline:{border:"none",outline:"none"},adornedEnd:{paddingRight:"5px"}},MuiSvgIcon:{root:{fill:"#c4c4c4",width:"36px",height:"36px"}}},"MuiIconButton",{root:{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}})}),v=function(e){var a=Object(s.useState)(e.defaultDate),t=Object(l.a)(a,2),c=t[0],r=t[1],i=e.disablePast,m=e.disableFuture,o=e.adornment,u=e.onDateSelect;return Object(s.useEffect)(function(){r(e.defaultDate)},[e.defaultDate]),n.a.createElement(f.MuiThemeProvider,{theme:p},n.a.createElement(E.b,{utils:h.a,locale:_.a},n.a.createElement("div",{className:"picker",style:e.style},n.a.createElement(E.a,{keyboard:!0,clearable:!0,onlyCalendar:!0,disableOpenOnEnter:!0,disablePast:i,disableFuture:m,placeholder:"\u0414\u0414/\u041c\u041c/\u0413\u0413\u0413\u0413",invalidDateMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",minDateMessage:e.minDateMessage||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0443\u044e \u0434\u0430\u0442\u0443",maxDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",variant:"outlined",InputAdornmentProps:o,value:c,onChange:function(e){r(e),u(e)},format:"dd/MM/yyyy",mask:function(e){return e?[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]:[]}}))))},N=function(e){Object(s.useContext)(o);var a=e.horizontal,t=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).from.name:""),c=Object(l.a)(t,2),r=c[0],i=c[1],d=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).from.id:""),E=Object(l.a)(d,2),_=E[0],h=E[1],f=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).to.name:""),p=Object(l.a)(f,2),N=p[0],b=p[1],g=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).to.id:""),k=Object(l.a)(g,2),O=k[0],S=k[1],y=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).date:new Date),j=Object(l.a)(y,2),w=j[0],C=j[1],x=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).dateBack:null),T=Object(l.a)(x,2),P=T[0],L=T[1];return n.a.createElement("form",{className:"trainpicker ".concat(a?"trainpicker-horizontal":"")},a?null:n.a.createElement("div",null,n.a.createElement("h2",{className:"trainpicker__header"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0434\u0430\u0442\u0443 \u043f\u043e\u0435\u0437\u0434\u043a\u0438:")),n.a.createElement("div",{className:"trainpicker__content ".concat(a?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{className:"trainpicker_label"},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),n.a.createElement("div",{className:"trainpicker__inputs"},n.a.createElement(u,{placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",onSelect:function(e){i(e.name),h(e.id)},value:r}),n.a.createElement("div",{onClick:function(){i(N),b(r),h(O),S(_),sessionStorage.travelFromNameSwap=r,sessionStorage.travelToNameSwap=N},className:"trainpicker__reverse",type:"checkbox",name:"reverse",id:"reverse"},n.a.createElement("i",{className:"fas pic_reverse"})),n.a.createElement(u,{placeholder:"\u041a\u0443\u0434\u0430",onSelect:function(e){b(e.name),S(e.id)},value:N}))),n.a.createElement("div",{className:"trainpicker__content ".concat(a?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{className:"trainpicker_label"},"\u0414\u0430\u0442\u0430"),n.a.createElement("div",{className:"trainpicker_data"},n.a.createElement("div",{className:"trainpicker__inputs"},n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=e,C(e)},defaultDate:"/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).date:new Date})),n.a.createElement("div",{className:"trainpicker__inputs"},n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=P,L(e)},defaultDate:"/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).dateBack:null})))),n.a.createElement("button",{onClick:function(e){return e.preventDefault()},type:"submit",disabled:!(r&&N),className:"trainpicker__button ".concat(a?"trainpicker__button-horizontal":""," ")},r&&N?n.a.createElement(m.b,{to:"/search",onClick:function(){e.setSearchParams({from:{name:r,id:_},to:{name:N,id:O},fromReverse:{name:N,id:O},toReverse:{name:r,id:_},date:w,dateBack:P}),"/"!==e.location.pathname&&window.scrollTo({top:document.querySelector(".col-right").offsetTop,behavior:"smooth"})}},"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"):"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"))},b=function(e){var a=e.location.pathname;return"/success"===a?n.a.createElement("section",{className:"main-search main-search-success"}):"/"!==a?n.a.createElement("section",{className:"main-search"},n.a.createElement(N,Object.assign({horizontal:!0},e))):"/"===a?n.a.createElement("section",{className:"main",id:"main"},n.a.createElement("div",{className:"overlay"}),n.a.createElement("div",{className:"main__motto"},n.a.createElement("div",{className:"motto"},"\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",n.a.createElement("div",{className:"motto-bold"},"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"))),n.a.createElement("div",{className:"main__picker"},n.a.createElement(N,e))):void 0},g=function(e){var a,t,c,r;return Object(s.useEffect)(function(){a=document.getElementById("about"),t=document.getElementById("features"),c=document.getElementById("reviews"),r=document.getElementById("footer"),e.setHomepageRefs({about:a.offsetTop,features:t.offsetTop,reviews:c.offsetTop,footer:r.offsetTop})},[a]),window.onresize=function(){a=document.getElementById("about"),t=document.getElementById("features"),c=document.getElementById("reviews"),r=document.getElementById("footer"),e.setHomepageRefs({about:a.offsetTop,features:t.offsetTop,reviews:c.offsetTop,footer:r.offsetTop})},n.a.createElement(s.Fragment,null,n.a.createElement(k,null),n.a.createElement(O,null),n.a.createElement(S,null))},k=function(){return n.a.createElement("section",{className:"about",id:"about"},n.a.createElement("div",{className:"about__title"},n.a.createElement("h2",null,"\u041e \u043d\u0430\u0441")),n.a.createElement("div",{className:"about__text"},n.a.createElement("div",{className:"about__deco"}),n.a.createElement("div",{className:"about__items"},n.a.createElement("p",{className:"about__item"},"\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 15 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{className:"about__item"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c? \u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{className:"about__item about__item-bold"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f."))))},O=function(){return n.a.createElement("section",{className:"features",id:"features"},n.a.createElement("div",{className:"description"},n.a.createElement("h2",{className:"description__title"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),n.a.createElement("button",{className:"description__button"},"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435")),n.a.createElement("div",{className:"features__items"},n.a.createElement("div",{className:"features__item features__item-monitor"},"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),n.a.createElement("div",{className:"features__item features__item-office"},"\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"),n.a.createElement("div",{className:"features__item features__item-globe"},"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439")))},S=function(){return n.a.createElement("section",{className:"reviews",id:"reviews"},n.a.createElement("h2",{className:"reviews__title"},"\u041e\u0442\u0437\u044b\u0432\u044b"),n.a.createElement("div",{className:"reviews__slide"},n.a.createElement("div",{className:"review"},n.a.createElement("img",{className:"review__avatar",src:"https://i.ibb.co/Z1RgQdZ/av-1.png",alt:"av"}),n.a.createElement("div",{className:"review__content"},n.a.createElement("h4",{className:"review__author"},"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430"),n.a.createElement("p",{className:"review__text"},"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."))),n.a.createElement("div",{className:"review"},n.a.createElement("img",{className:"review__avatar",src:"https://i.ibb.co/47wFWkj/av-2.png",alt:"av"}),n.a.createElement("div",{className:"review__content"},n.a.createElement("h4",{className:"review__author"},"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e"),n.a.createElement("p",{className:"review__text"},"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438. \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435.")))),n.a.createElement("div",{className:"carousel"},n.a.createElement("div",{className:"carousel__controls"},n.a.createElement("span",{className:"carousel__item carousel__item-active"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}))))},y=function(e){var a=e.location.pathname,t=[{step:"/search/seats",title:"\u0411\u0438\u043b\u0435\u0442\u044b"},{step:"/passengers",title:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"},{step:"/payment",title:"\u041e\u043f\u043b\u0430\u0442\u0430"},{step:"/confirmation",title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}],s=function(e,s){return e.step.match(a)||s<=t.findIndex(function(e){return e.step===a})};return n.a.createElement("section",{className:"progress"},t.map(function(e,a){return n.a.createElement("div",{key:e.title,className:"progress__step ".concat(s(e,a)?"progress__step-current":"")},n.a.createElement("span",{className:"number"},a+1),n.a.createElement("span",{className:"progress__text"},e.title),3===a?null:n.a.createElement("div",{className:"progress__arrow ".concat(s(e,a)?"progress__arrow-current":"")}))}))},j=function(e){var a=e.homepageRefs,t=function(t){var s={top:a[t.currentTarget.dataset.id],behavior:"smooth"};"/"===e.location.pathname&&t.preventDefault(),window.scrollTo(s)};return n.a.createElement(s.Fragment,null,n.a.createElement("section",{className:"header"},n.a.createElement("div",{className:"logo"},n.a.createElement(m.b,{className:"logo__link",to:"/"},n.a.createElement("h1",null,"\u043d\u0435\u0420\u0416\u0414"))),n.a.createElement("nav",{className:"menu"},n.a.createElement("ul",{className:"nav"},n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{onClick:t,className:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"features",className:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"reviews",className:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"footer",className:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")))),n.a.createElement("nav",{className:"menu-dropdown"},n.a.createElement("div",{onClick:function(e){e.currentTarget.nextElementSibling.classList.toggle("hidden"),Array.from(e.currentTarget.children).forEach(function(e){return e.classList.toggle("hidden")})},className:"menu-burger"},n.a.createElement("i",{className:"fas fa-bars"}),n.a.createElement("i",{className:"far fa-window-close hidden"})),n.a.createElement("ul",{className:"nav hidden"},n.a.createElement("li",null),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{onClick:t,className:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"features",className:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"reviews",className:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"footer",className:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"))))),n.a.createElement(b,e),"/"===e.location.pathname||"/success"===e.location.pathname?null:n.a.createElement(y,e))},w=function(){var e=Object(s.useContext)(o),a=Object(s.useState)(""),t=Object(l.a)(a,2),c=t[0],r=t[1],i=Object(s.useState)(!1),u=Object(l.a)(i,2),d=u[0],E=u[1],_=Object(s.useState)(!1),h=Object(l.a)(_,2),f=h[0],p=h[1];return n.a.createElement("footer",{className:"footer",id:"footer"},n.a.createElement("div",{className:"footer footer-main"},n.a.createElement("div",{className:"contacts"},n.a.createElement("h3",{className:"footer__title"},"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"),n.a.createElement("ul",{className:"contacts__list"},n.a.createElement("li",{className:"contacts__item contacts__item-phone"},"8 (800) 000 00 00"),n.a.createElement("li",{className:"contacts__item contacts__item-email"},"inbox@mail.ru"),n.a.createElement("li",{className:"contacts__item contacts__item-skype"},"tu.train.tickets"),n.a.createElement("li",{className:"contacts__item contacts__item-address"}," \u0433. \u041c\u043e\u0441\u043a\u0432\u0430 ",n.a.createElement("br",null)," \u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35 ",n.a.createElement("br",null),"  555 555"))),n.a.createElement("div",{className:"subscription"},n.a.createElement("h3",{className:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),n.a.createElement("form",{onSubmit:function(a){a.preventDefault(),/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/.test(c)?(e.subscribe(c),E(!1),p(!0),r("")):E(!0)},action:"",className:"subscription-form"},n.a.createElement("label",{className:"subscription-form__label"},"\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),n.a.createElement("div",null,n.a.createElement("input",{value:c,onChange:function(e){var a=e.target.value;a.match(/[^a-zA-Z0-9,_,-,@,.]/)||r(a)},className:"subscription-form__input",type:"email",name:"subscription",placeholder:"e-mail"}),n.a.createElement("div",{style:{visibility:d?"visible":"hidden"},className:"subscription_hint"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")),n.a.createElement("button",{className:"subscription-form__button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),n.a.createElement("div",{style:{visibility:f?"visible":"hidden"},className:"subscription_thankyou"},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!")),n.a.createElement("h3",{className:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"),n.a.createElement("ul",{className:"social"},n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-youtube"},n.a.createElement("i",{className:"fab fa-youtube"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-linkedIn"},n.a.createElement("i",{className:"fab fa-linkedin-in"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-googlePlus"},n.a.createElement("i",{className:"fab fa-google-plus-g"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-facebook"},n.a.createElement("i",{className:"fab fa-facebook-f"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-twitter"},n.a.createElement("i",{className:"fab fa-twitter"})))))),n.a.createElement("div",{className:"footer-additional"},n.a.createElement("div",{className:"footer__logo"},n.a.createElement(m.b,{className:"logo__link",to:"/"},"TrainBooking")),n.a.createElement("div",{className:"footer__home-arrow",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}}),n.a.createElement("div",{className:"footer__copyright"},"2019 WEB")))},C=t(29),x=t(65),T=t(128),P=t(137),L=t(129),D=t(138),F=t(130),B=t.n(F),J=t(131),M=t.n(J),R=t(132),I=t.n(R),z=function(e){function a(){var e,t;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=Object(P.a)(this,(e=Object(L.a)(a)).call.apply(e,[this].concat(n)))).state={checkedA:!0,checkedB:!0},t.handleChange=function(e){return function(a){t.props.onChange(),t.setState(Object(d.a)({},e,a.target.checked))}},t}return Object(D.a)(a,e),Object(T.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.classes,s=a.label,c=[{name:"second-class",value:"\u043a\u0443\u043f\u0435"},{name:"third-class",value:"\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"},{name:"first-class",value:"\u043b\u044e\u043a\u0441"},{name:"fourth-class",value:"\u0441\u0438\u0434\u044f\u0447\u0438\u0439"},{name:"express",value:"\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},{name:"wi-fi",value:"wi-fi"}];return n.a.createElement("div",null,n.a.createElement(B.a,{row:!0},n.a.createElement(M.a,{style:{width:"80%",justifyContent:"space-between",color:"#ffffff"},classes:{label:s},label:n.a.createElement("label",{className:"switches_label "+(e=s,c.find(function(a){return a.value===e.toLowerCase()}).name),style:{color:"#fff",marginRight:"1rem"}},s),labelPlacement:"start",control:n.a.createElement(I.a,{checked:this.props.checked,onChange:this.handleChange("checkedA"),value:"checkedA",classes:{switchBase:t.colorSwitchBase,checked:t.colorChecked,bar:t.colorBar,icon:t.icon}})})))}}]),a}(n.a.Component),A=Object(f.withStyles)(function(e){return{colorSwitchBase:{color:"#c4c4c4","& + $colorBar":{backgroundColor:"#ffffff",border:"1px solid #3E3C41",opacity:1,width:"100%"},"&$colorChecked":{color:"#FFA800",position:"relative",left:"30px","& + $colorBar":{backgroundColor:"#FCDC90",opacity:1}}},icon:{marginTop:"2px"},colorBar:{},colorChecked:{},label:{color:"#fff"}}})(z),W=function(e){var a=e.first,t=e.second,s=e.third,c=e.fourth,r=e.setFirst,l=e.express,i=e.wifi,m=e.setSecond,o=e.setThird,u=e.setFourth,d=e.setExpress,E=e.setWifi;return n.a.createElement("div",null,n.a.createElement(A,{checked:t,onChange:m,label:"\u041a\u0443\u043f\u0435"}),n.a.createElement(A,{checked:s,onChange:o,label:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"}),n.a.createElement(A,{checked:c,onChange:u,label:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"}),n.a.createElement(A,{checked:a,onChange:r,label:"\u041b\u044e\u043a\u0441"}),n.a.createElement(A,{checked:l,onChange:d,label:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"}),n.a.createElement(A,{checked:i,onChange:E,label:"Wi-Fi"}))},H=function(e){Object(s.useContext)(o);var a=e.searchParams||JSON.parse(sessionStorage.searchParams),t=Object(s.useState)({from:500,to:7e3}),c=Object(l.a)(t,2),r=c[0],i=c[1],m=Object(s.useState)({from:0,to:24}),u=Object(l.a)(m,2),d=u[0],E=u[1],_=Object(s.useState)({from:0,to:24}),h=Object(l.a)(_,2),f=h[0],p=h[1],N=Object(s.useState)(!1),b=Object(l.a)(N,2),g=b[0],k=b[1],O=Object(s.useState)(!0),S=Object(l.a)(O,2),y=S[0],j=S[1],w=Object(s.useState)(!1),x=Object(l.a)(w,2),T=x[0],P=x[1],L=Object(s.useState)(!1),D=Object(l.a)(L,2),F=D[0],B=D[1],J=Object(s.useState)(!1),M=Object(l.a)(J,2),R=M[0],I=M[1],z=Object(s.useState)(!0),A=Object(l.a)(z,2),H=A[0],q=A[1],V=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).date:new Date),$=Object(l.a)(V,2),Z=$[0],Y=$[1],Q=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).dateBack:null),K=Object(l.a)(Q,2),G=K[0],U=K[1],X=Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).from.name:""),ee=Object(l.a)(X,2),ae=ee[0],te=(ee[1],Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).from.id:"")),se=Object(l.a)(te,2),ne=se[0],ce=(se[1],Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).to.name:"")),re=Object(l.a)(ce,2),le=re[0],ie=(re[1],Object(s.useState)("/"!==e.location.pathname?JSON.parse(sessionStorage.searchParams).to.id:"")),me=Object(l.a)(ie,2),oe=me[0],ue=(me[1],Object(s.useState)(!0)),de=Object(l.a)(ue,2),Ee=de[0],_e=de[1],he=Object(s.useState)(!0),fe=Object(l.a)(he,2),pe=fe[0],ve=fe[1];a.filters="price_from=".concat(r.from,"&price_to=").concat(r.to).concat(g?"&have_first_className=true":"").concat(y?"&have_second_className=true":"").concat(T?"&have_third_className=true":"").concat(F?"&have_fourth_className=true":"").concat(H?"&have_wifi=true":"").concat(R?"&have_express=true":"");var Ne,be=function(){Ne.classList.toggle("minimized")};return Object(s.useEffect)(function(){Y(JSON.parse(sessionStorage.searchParams).date),U(JSON.parse(sessionStorage.searchParams).dateBack)},[e.searchParams]),n.a.createElement("div",{className:"filters-container"},n.a.createElement("div",{onClick:be,className:"filter-cog"},n.a.createElement("i",{className:"fas fa-cog"}),n.a.createElement("i",{className:"far fa-window-close hidden"})),n.a.createElement("form",{ref:function(e){return Ne=e},action:"",className:"search-form minimized"},n.a.createElement("fieldset",{onClick:be,className:"search-form__set"},n.a.createElement("div",null,n.a.createElement("h2",null,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){var a=Date.parse(e);sessionStorage.travelDate=a,Y(e)},defaultDate:Z})),n.a.createElement("div",null,n.a.createElement("h2",null,"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDateBack=G,U(e)},defaultDate:G}))),n.a.createElement("fieldset",{className:"seat-types"},n.a.createElement(W,{first:g,second:y,third:T,fourth:F,express:R,wifi:H,setFirst:function(){return k(!g)},setSecond:function(){return j(!y)},setThird:function(){return P(!T)},setFourth:function(){return B(!F)},setExpress:function(){return I(!R)},setWifi:function(){return q(!H)}})),n.a.createElement("fieldset",{className:"cost-picker"},n.a.createElement("label",{className:"trainpicker_label"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),n.a.createElement(C.a,{onChange:function(e){return i({from:e.from,to:e.to})},type:"double",grid:!1,from:r.from,to:r.to,min:500,max:7e3,hide_min_max:!0,skin:"material"})),n.a.createElement("div",null,n.a.createElement("fieldset",{className:"time-picker"},n.a.createElement("div",{className:"time-picker_titel"},n.a.createElement("div",{className:"time-picker_icon"},n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons"},"arrow_forward"))),n.a.createElement("h2",null,"\u0422\u0443\u0434\u0430"),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),_e(!Ee)},className:"time-picker_roll-more time-picker_roll-less"})),!!Ee&&n.a.createElement("div",null,n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})))),n.a.createElement("div",null,n.a.createElement("fieldset",{className:"time-picker"},n.a.createElement("div",{className:"time-picker_titel"},n.a.createElement("div",{className:"time-picker_icon"},n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons"},"arrow_back"))),n.a.createElement("h2",null,"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),ve(!pe)},className:"time-picker_roll-more time-picker_roll-less"})),!!pe&&n.a.createElement("div",null,n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})))),n.a.createElement("fieldset",{className:"filters__buttons "},n.a.createElement("button",{onClick:function(t){t.preventDefault(),e.update(a.filters),e.setSearchParams({from:{name:ae,id:ne},to:{name:le,id:oe},fromReverse:{name:le,id:oe},toReverse:{name:ae,id:ne},date:Z,dateBack:G})},className:"filters__button"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))},q=function(){return n.a.createElement("div",{className:"last-tickets"},n.a.createElement("h2",{className:"last-tickets_title"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"),n.a.createElement("div",{className:"last-tickets_card"},n.a.createElement("div",{className:"last-tickets_directions"},n.a.createElement("div",{className:"last-tickets_from"},n.a.createElement("div",{className:"train-schedule_city"},"\u0421\u0430\u043c\u0430\u0440\u0430"),n.a.createElement("div",{className:"train-schedule_station"},"\u041a\u0443\u0440\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b")),n.a.createElement("div",{className:"last-tickets_to"},n.a.createElement("div",{className:"train-schedule_city"},"\u041c\u043e\u0441\u043a\u0432\u0430"),n.a.createElement("div",{className:"train-schedule_station"},"\u0420\u0438\u0436\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b"))),n.a.createElement("div",{className:"last-tickets_info"},n.a.createElement("div",{className:"last-tickets_labels"},n.a.createElement("span",{className:"switches_label wi-fi"}),n.a.createElement("span",{className:"switches_label express"}),n.a.createElement("span",{className:"switches_label breakfast"})),n.a.createElement("div",{className:"last-tickets_price"},n.a.createElement("span",null,"3 500")))))},V=function(e){var a=e.info,t=e.showTravelTime,s=Math.floor(a.duration/60/60),c=Math.floor(a.duration/60%60);return n.a.createElement("div",{className:"train-schedule"},n.a.createElement("div",{className:"train-schedule_way"},n.a.createElement("div",{className:"train-schedule_from"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.from.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.from.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.from.railway_station_name)),n.a.createElement("div",{className:"train-schedule_travel-arrow"},t?n.a.createElement("span",null,s," \u0447 ",c," \u043c\u0438\u043d"):null,n.a.createElement("i",{className:"material-icons"},"arrow_forward")),n.a.createElement("div",{className:"train-schedule_to"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.to.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.to.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.to.railway_station_name))))},$=function(e){var a=e.info,t=e.showTravelTime,s=Math.floor(a.duration/60/60),c=Math.floor(a.duration/60%60);return n.a.createElement("div",{className:"train-schedule"},n.a.createElement("div",{className:"train-schedule_wayback"},n.a.createElement("div",{className:"train-schedule_from"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.from.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.from.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.from.railway_station_name)),n.a.createElement("div",{className:"train-schedule_travel-arrow"},t?n.a.createElement("span",null,s," \u0447 ",c," \u043c\u0438\u043d"):null,n.a.createElement("i",{className:"material-icons"},"arrow_back")),n.a.createElement("div",{className:"train-schedule_to"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.to.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.to.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.to.railway_station_name))))},Z=function(e){console.log(e.trainsBack);var a=e.departure,t=Object(s.useState)(void 0!==e.trainsBack?e.trainsBack.departure:a),c=Object(l.a)(t,2),r=c[0],i=(c[1],[]);return i.push(a,r),n.a.createElement("div",{className:"train"},n.a.createElement("div",{className:"train-info"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",{className:"train-info_destination"},n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement("div",{className:"train-schedule-all"},n.a.createElement(V,{info:a,showTravelTime:!0}),null!==e.params.dateBack&&n.a.createElement($,{info:r,showTravelTime:!0})),n.a.createElement("div",{className:"train-seats"},n.a.createElement("ul",{className:"train-seats_list"},a.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.fourth),n.a.createElement("span",{className:"train-seats_price"},a.price_info.fourth.top_price)):null,a.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.second),n.a.createElement("span",{className:"train-seats_price"},a.price_info.second.top_price)):null,a.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.third),n.a.createElement("span",{className:"train-seats_price"},a.price_info.third.top_price)):null,a.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.first),n.a.createElement("span",{className:"train-seats_price"},a.price_info.first.top_price)):null),null!==e.params.dateBack&&n.a.createElement("ul",{className:"train-seats_list"},r.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{className:"train-seats_amount"},r.available_seats_info.fourth),n.a.createElement("span",{className:"train-seats_price"},r.price_info.fourth.top_price)):null,r.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{className:"train-seats_amount"},r.available_seats_info.second),n.a.createElement("span",{className:"train-seats_price"},r.price_info.second.top_price)):null,r.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{className:"train-seats_amount"},r.available_seats_info.third),n.a.createElement("span",{className:"train-seats_price"},r.price_info.third.top_price)):null,r.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{className:"train-seats_amount"},r.available_seats_info.first),n.a.createElement("span",{className:"train-seats_price"},r.price_info.first.top_price)):null),n.a.createElement("div",null,n.a.createElement("div",{className:"train-seats_icons"},a.have_wifi?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c wi-fi"},n.a.createElement("i",{className:"fas fa-wifi"})):null,a.have_air_conditioning?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"},n.a.createElement("i",{className:"far fa-snowflake"})):null,a.is_express?n.a.createElement("span",{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},n.a.createElement("span",{className:"rocket"})):null),n.a.createElement("div",{className:"train-seats_button-container"},n.a.createElement(m.b,{className:"train-seats_button",to:"/seats",onClick:function(){return e.setCurrentTrain(i)}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430")))))},Y=function(e){var a=e.trains,t=e.count,s=e.limit,c=e.currentPage,r=e.setCurrentPage,l=new Array(Math.ceil(t/s)).fill("");return t>0&&a.length>0?n.a.createElement("div",{className:"pagination",onClick:function(e){if(e.target.classList.contains("page")){if(e.target.classList.contains("page-previous")&&c>1)r(c-1);else if(e.target.classList.contains("page-next")&&c<l.length)r(c+1);else{if((1===c||c===l.length)&&(e.target.classList.contains("page-previous")||e.target.classList.contains("page-next")))return;r(+e.target.textContent)}var a=document.querySelector(".col-right").offsetTop;window.scrollTo({top:a,behavior:"smooth"})}}},t>1&&n.a.createElement("i",{className:"fas fa-chevron-left page page-previous"}),n.a.createElement("ul",null,l.map(function(e,a){return n.a.createElement("li",{key:a,className:c===a+1?"page page-current":"page"},a+1)})),t>1&&n.a.createElement("i",{className:"fas fa-chevron-right page page-next"})):null},Q=function(e){var a=Object(s.useContext)(o),t=e.trains,c=e.setTrains,r=e.trainsReverse,i=e.setTrainsReverse,m=Object(s.useState)(),u=Object(l.a)(m,2),d=(u[0],u[1],JSON.parse(sessionStorage.searchParams)||e.searchParams),E=Object.assign({},d);null!==d.dateBack&&(E.to=d.toReverse,E.from=d.fromReverse);var _=Object(s.useState)(!1),h=Object(l.a)(_,2),f=h[0],p=h[1],v=Object(s.useState)(0),N=Object(l.a)(v,2),b=N[0],g=N[1],k=Object(s.useState)("duration"),O=Object(l.a)(k,2),S=O[0],y=O[1],j=Object(s.useState)(5),w=Object(l.a)(j,2),C=w[0],x=w[1],T=Object(s.useState)(0),P=Object(l.a)(T,2),L=P[0],D=P[1],F=Object(s.useState)(1),B=Object(l.a)(F,2),J=B[0],M=B[1],R=Object(s.useState)(JSON.parse(sessionStorage.searchParams)),I=Object(l.a)(R,2),z=(I[0],I[1]),A=function(e){d.filters=e,a.getRoutes(d,S,C,L).then(function(e){sessionStorage.trains=JSON.stringify(e.items);var a=0===e.items.length?0:e.total_count;g(a),c(e.items),0===e.items.length&&p(!0)}),a.getRoutes(E,S,C,L).then(function(e){sessionStorage.trainsReverse=JSON.stringify(e.items);var a=0===e.items.length?0:e.total_count;g(a),i(e.items),0===e.items.length&&p(!0)})};Object(s.useEffect)(function(){A()},[d.from.name,d.to.name,S,C,L]);return n.a.createElement(s.Fragment,null,n.a.createElement("section",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(H,Object.assign({},e,{update:A,setSearchParams:function(e){z(e),sessionStorage.searchParams=JSON.stringify(e)}})),n.a.createElement(q,null)),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"results-display"},n.a.createElement("div",{className:"trains-count"},n.a.createElement("span",{className:"results-option"},"\u041d\u0430\u0439\u0434\u0435\u043d\u043e"),n.a.createElement("span",null,b)),n.a.createElement("div",{className:"sort"},n.a.createElement("span",{className:"results-option"},"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{onClick:function(e){var a=e.currentTarget,t=e.target;a.classList.toggle("sort_list-open"),Array.from(a.children).forEach(function(e){return e.classList.remove("sort-by-current")}),t.classList.add("sort-by-current"),y(t.dataset.sort),M(1)},className:"sort_list"},n.a.createElement("li",{className:"sort-by","data-sort":"date"},"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),n.a.createElement("li",{className:"sort-by sort-by-current","data-sort":"duration"},"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),n.a.createElement("div",{className:"limit"},n.a.createElement("span",{className:"results-option"},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{className:"limit_list",onClick:function(e){if(e.target.classList.contains("limit-by")){var a=e.currentTarget,t=e.target;Array.from(a.children).forEach(function(e){return e.classList.remove("limit-by-current")}),t.classList.add("limit-by-current"),x(t.dataset.limit),M(1)}}},n.a.createElement("li",{className:"limit-by limit-by-current","data-limit":5},"5"),n.a.createElement("li",{className:"limit-by","data-limit":10},"10"),n.a.createElement("li",{className:"limit-by","data-limit":20},"20")))),t.length>0?t.map(function(a,t){var s=r[t];return n.a.createElement(Z,{trainsBack:s,key:t,params:d,departure:a.departure,currentTrain:e.currentTrain,setCurrentTrain:e.setCurrentTrain})}):f?n.a.createElement("div",{className:"not-found-notice"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430."):n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader_image"})),n.a.createElement(Y,{trains:t,count:b,limit:C,currentPage:J,setCurrentPage:function(e){D(C*(e-1)),M(e)}}))))},K=function(e){var a=e.info,t=Math.floor(a.duration/60/60),s=Math.floor(a.duration/60%60);return n.a.createElement("div",{className:"current-train"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("div",{className:"train-info"},n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",null,n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement(V,{info:a,showTravelTime:!1}),n.a.createElement("div",{className:"current-train_travel-time"},n.a.createElement("div",{className:"travel-time_icon"}),n.a.createElement("div",{className:"travel-time_text"},n.a.createElement("div",{className:"hours"},t," \u0447"),n.a.createElement("div",{className:"hours"},s," \u043c\u0438\u043d"))))},G=function(e){var a=e.info,t=Math.floor(a.duration/60/60),s=Math.floor(a.duration/60%60);return n.a.createElement("div",{className:"current-train"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("div",{className:"train-info"},n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",null,n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement($,{info:a,showTravelTime:!1}),n.a.createElement("div",{className:"current-train_travel-time"},n.a.createElement("div",{className:"travel-time_icon"}),n.a.createElement("div",{className:"travel-time_text"},n.a.createElement("div",{className:"hours"},t," \u0447"),n.a.createElement("div",{className:"hours"},s," \u043c\u0438\u043d"))))},U=function(e){var a=e.passengers,t=e.setAdultSeats,c=e.setChildrenSeats,r=e.setChildrenWithoutSeats,i=Object(s.useState)(a.adults+a.children),m=Object(l.a)(i,2),o=m[0],u=(m[1],function(e){var s=function(a){return"inc"===e.currentTarget.dataset.op?a+1:a-1};switch(e.currentTarget.dataset.name){case"children":o<=4&&c(s(a.children));break;case"childrenwithoutSeats":o<=4&&r(s(a.childrenWithoutSeats));break;case"adults":t(s(a.adults));break;default:return}});return n.a.createElement("div",{className:"tickets-number"},n.a.createElement("h2",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"),n.a.createElement("form",{className:"tickets-number_boxes"},n.a.createElement("div",{className:"tickets-number_box"},n.a.createElement("div",{className:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445:"),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"adults",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},a.adults),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"adults",onClick:u},"+")),n.a.createElement("div",{className:"tickets-number_hint"},4-a.adults-a.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-a.adults-a.children," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"):"\u0412 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043a\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 4 \u0431\u0438\u043b\u0435\u0442\u043e\u0432")),n.a.createElement("div",{className:"tickets-number_box"},n.a.createElement("div",{className:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0445: "),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"children",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},a.children),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"children",onClick:u},"+")),n.a.createElement("div",{className:"tickets-number_hint"},4-a.adults-a.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-a.adults-a.children," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442"):"4 \u0431\u0438\u043b\u0435\u0442\u0430 \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"))))},X=function(e){var a=e.currentType,t=e.coaches,c=e.setCurrentType,r=e.currentCoach,l=e.setCurrentCoach,i=function(e){return e===a?"train-type_item-active":""},m=function(e){return e.match(/\d/g)},o=function(e){a!==e.currentTarget.dataset.type&&c(e.currentTarget.dataset.type)};return Object(s.useEffect)(function(){l(t[0])}),n.a.createElement("div",{className:"train-type"},n.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"),n.a.createElement("ul",{className:"train-type_icons"},n.a.createElement("li",{onClick:o,"data-type":"fourth",className:"train-type_item train-type_item-fourth-class "+i("fourth")},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("li",{onClick:o,"data-type":"third",className:"train-type_item train-type_item-third-class "+i("third")},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("li",{onClick:o,"data-type":"second",className:"train-type_item train-type_item-second-class "+i("second")},"\u041a\u0443\u043f\u0435"),n.a.createElement("li",{onClick:o,"data-type":"first",className:"train-type_item train-type_item-first-class "+i("first")},"\u041b\u044e\u043a\u0441")),t.length>0&&r?n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"train-number_switch"},"\u0412\u0430\u0433\u043e\u043d\u044b:",n.a.createElement("ul",{className:"train-number_list"},t.map(function(e,a){return n.a.createElement("li",{key:a,className:e.coach.name===r.coach.name?"current-train-number":"",onClick:function(){return l(e)}},m(e.coach.name))})),n.a.createElement("span",null,"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430")),n.a.createElement("div",{className:"train-main"},n.a.createElement("div",{className:"train-number"},n.a.createElement("h2",null,m(r.coach.name)),n.a.createElement("span",null,"\u0432\u0430\u0433\u043e\u043d")),n.a.createElement("div",{className:"seats-info"},n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u0430:"),"second"===a||"third"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0412\u0435\u0440\u0445\u043d\u0438\u0435"),n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435")):"first"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435"),n.a.createElement("span",null)):n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0421\u0438\u0434\u044f\u0447\u0438\u0435"),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),"second"===a||"third"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",{className:"seats-info_price"},r.coach.top_price),n.a.createElement("span",{className:"seats-info_price"},r.coach.bottom_price)):n.a.createElement(s.Fragment,null,n.a.createElement("span",{className:"seats-info_price"},r.coach.top_price),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("ul",{className:"seats-info_services"},r.coach.have_air_conditioning?n.a.createElement("li",{className:"seats-info_service seats-info_service-air"},n.a.createElement("span",null)):null,r.coach.have_wifi?n.a.createElement("li",{className:"seats-info_service seats-info_service-wifi"},n.a.createElement("span",null)):null,r.coach.is_linens_included?n.a.createElement("li",{className:"seats-info_service seats-info_service-linens"},n.a.createElement("span",null)):null,n.a.createElement("li",{className:"seats-info_service seats-info_service-food"},n.a.createElement("span",null))))))):n.a.createElement("div",{className:"train-number_switch"},"\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435 \u043d\u0435\u0442 \u043c\u0435\u0441\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430"))},ee=function(e){var a,t,c=e.type,r=e.coach,l=e.passengers,i=e.chosen,m=e.setChosen,o=e.cancelChosen,u=e.setTotalPrice,d=e.topPrice,E=e.bottomPrice,_=e.sidePrice,h=function(e){return e%2===0?d:E};switch(Object(s.useEffect)(function(){var e=document.querySelectorAll(".scheme_seat");i.length===l?e.forEach(function(e){e.classList.contains("scheme_seat-free")&&!e.classList.contains("scheme_seat-chosen")&&e.classList.add("scheme_seat-inactive")}):e.forEach(function(e){return e.classList.remove("scheme_seat-inactive")})},[i,l]),c){case"first":a=ae,t=function(){return E};break;case"second":a=te,t=h;break;case"third":a=se,t=function(e){return e>36?_:h(e)};break;case"fourth":a=ne,t=function(){return E};break;default:return}return n.a.createElement("div",{className:"train-scheme"},n.a.createElement("div",{className:"train-hint"},"second"===c||"third"===c?"\u041d\u0438\u0436\u043d\u0438\u0435 - \u043d\u0435\u0447\u0435\u0442\u043d\u044b\u0435, \u0432\u0435\u0440\u0445\u043d\u0438\u0435 - \u0447\u0435\u0442\u043d\u044b\u0435":"\u0412 \u043e\u0434\u0438\u043d \u0437\u0430\u043a\u0430\u0437 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 4 \u043c\u0435\u0441\u0442"),n.a.createElement("div",{className:"scheme_train-number",title:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430"},n.a.createElement("span",null,r.coach.name.match(/\d/g))),n.a.createElement("div",{className:"scheme",onClick:function(e){if(e.target.classList.contains("scheme_seat")&&e.target.classList.contains("scheme_seat-free")){var a=e.target,s=+a.textContent;a.classList.contains("scheme_seat-chosen")?(a.classList.remove("scheme_seat-chosen"),o(s),u(-t(s))):a.classList.contains("scheme_seat-free")&&i.length<l&&(e.target.classList.add("scheme_seat-chosen"),m(s),u(t(s)))}}},n.a.createElement(a,null)))},ae=function(){return n.a.createElement("div",{className:"scheme_train-first-class"},n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"3"),n.a.createElement("div",{className:"scheme_seat"},"4")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"5"),n.a.createElement("div",{className:"scheme_seat"},"6")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"10")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"11"),n.a.createElement("div",{className:"scheme_seat"},"12")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"16")))},te=function(){return n.a.createElement("div",{className:"scheme_train-second-class"},n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"3"),n.a.createElement("div",{className:"scheme_seat"},"4"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"5"),n.a.createElement("div",{className:"scheme_seat"},"6")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat"},"10")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"11"),n.a.createElement("div",{className:"scheme_seat"},"12"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{className:"scheme_seat"},"16"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"17"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"18")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"19"),n.a.createElement("div",{className:"scheme_seat"},"20"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"21"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"22")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"23"),n.a.createElement("div",{className:"scheme_seat"},"24"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"25"),n.a.createElement("div",{className:"scheme_seat"},"26")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"27"),n.a.createElement("div",{className:"scheme_seat"},"28"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"29"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"30")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"32"))))},se=function(){return n.a.createElement("div",{className:"scheme_train-third-class"},n.a.createElement(te,null),n.a.createElement("div",{className:"scheme_train-side"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"33"),n.a.createElement("div",{className:"scheme_seat"},"34")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"35"),n.a.createElement("div",{className:"scheme_seat"},"36")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"38")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"39"),n.a.createElement("div",{className:"scheme_seat"},"40")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"41"),n.a.createElement("div",{className:"scheme_seat"},"42")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"43"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"44")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"45"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"46")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"47"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"48"))))},ne=function(){return n.a.createElement("div",{className:"scheme_train-fourth-class"},n.a.createElement("div",{className:"scheme_row"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2"),n.a.createElement("div",{className:"scheme_seat"},"3"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"4"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"5"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"6"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8"),n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat"},"10"),n.a.createElement("div",{className:"scheme_seat"},"11"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"12"),n.a.createElement("div",{className:"scheme_seat"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14"),n.a.createElement("div",{className:"scheme_seat"},"15"),n.a.createElement("div",{className:"scheme_seat"},"16"),n.a.createElement("div",{className:"scheme_seat"},"17"),n.a.createElement("div",{className:"scheme_seat"},"18"),n.a.createElement("div",{className:"scheme_seat"},"19"),n.a.createElement("div",{className:"scheme_seat"},"20"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"21"),n.a.createElement("div",{className:"scheme_seat"},"22"),n.a.createElement("div",{className:"scheme_seat"},"23"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"24"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"25"),n.a.createElement("div",{className:"scheme_seat"},"26"),n.a.createElement("div",{className:"scheme_seat"},"27"),n.a.createElement("div",{className:"scheme_seat"},"28"),n.a.createElement("div",{className:"scheme_seat"},"29"),n.a.createElement("div",{className:"scheme_seat"},"30"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"32")),n.a.createElement("div",{className:"scheme_row scheme_row-second"},n.a.createElement("div",{className:"scheme_seat"},"33"),n.a.createElement("div",{className:"scheme_seat"},"34"),n.a.createElement("div",{className:"scheme_seat"},"35"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"36"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"38"),n.a.createElement("div",{className:"scheme_seat"},"39"),n.a.createElement("div",{className:"scheme_seat"},"40"),n.a.createElement("div",{className:"scheme_seat"},"41"),n.a.createElement("div",{className:"scheme_seat"},"42"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"43"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"44"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"45"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"46"),n.a.createElement("div",{className:"scheme_seat"},"47"),n.a.createElement("div",{className:"scheme_seat"},"48"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"49"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"50"),n.a.createElement("div",{className:"scheme_seat"},"51"),n.a.createElement("div",{className:"scheme_seat"},"52"),n.a.createElement("div",{className:"scheme_seat"},"53"),n.a.createElement("div",{className:"scheme_seat"},"54"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"55"),n.a.createElement("div",{className:"scheme_seat"},"56"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"57"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"58"),n.a.createElement("div",{className:"scheme_seat"},"59"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"60"),n.a.createElement("div",{className:"scheme_seat"},"61"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"62")))},ce=function(e){Object(s.useContext)(o);var a=e.searchParams||JSON.parse(sessionStorage.searchParams),t=Object(s.useState)({from:500,to:7e3}),c=Object(l.a)(t,2),r=c[0],i=c[1],m=Object(s.useState)({from:0,to:24}),u=Object(l.a)(m,2),d=u[0],E=u[1],_=Object(s.useState)({from:0,to:24}),h=Object(l.a)(_,2),f=h[0],p=h[1],N=Object(s.useState)(!1),b=Object(l.a)(N,2),g=b[0],k=b[1],O=Object(s.useState)(!0),S=Object(l.a)(O,2),y=S[0],j=S[1],w=Object(s.useState)(!1),x=Object(l.a)(w,2),T=x[0],P=x[1],L=Object(s.useState)(!1),D=Object(l.a)(L,2),F=D[0],B=D[1],J=Object(s.useState)(!1),M=Object(l.a)(J,2),R=M[0],I=M[1],z=Object(s.useState)(!0),A=Object(l.a)(z,2),H=A[0],q=A[1],V=Object(s.useState)(new Date),$=Object(l.a)(V,2),Z=($[0],$[1]),Y=Object(s.useState)(!0),Q=Object(l.a)(Y,2),K=Q[0],G=Q[1],U=Object(s.useState)(!0),X=Object(l.a)(U,2),ee=X[0],ae=X[1];a.filters="price_from=".concat(r.from,"&price_to=").concat(r.to).concat(g?"&have_first_className=true":"").concat(y?"&have_second_className=true":"").concat(T?"&have_third_className=true":"").concat(F?"&have_fourth_className=true":"").concat(H?"&have_wifi=true":"").concat(R?"&have_express=true":"");var te,se=function(){te.classList.toggle("minimized")};return n.a.createElement("div",{className:"filters-container"},n.a.createElement("div",{onClick:se,className:"filter-cog"},n.a.createElement("i",{className:"fas fa-cog"}),n.a.createElement("i",{className:"far fa-window-close hidden"})),n.a.createElement("form",{ref:function(e){return te=e},action:"",className:"search-form minimized"},n.a.createElement("fieldset",{onClick:se,className:"search-form__set"},n.a.createElement("div",null,n.a.createElement("h2",null,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=e,Z(e)},defaultDate:JSON.parse(sessionStorage.searchParams).date})),n.a.createElement("div",null,n.a.createElement("h2",null,"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),n.a.createElement(v,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=e,Z(e)},defaultDate:JSON.parse(sessionStorage.searchParams).dateBack}))),n.a.createElement("fieldset",{className:"seat-types"},n.a.createElement(W,{first:g,second:y,third:T,fourth:F,express:R,wifi:H,setFirst:function(){return k(!g)},setSecond:function(){return j(!y)},setThird:function(){return P(!T)},setFourth:function(){return B(!F)},setExpress:function(){return I(!R)},setWifi:function(){return q(!H)}})),n.a.createElement("fieldset",{className:"cost-picker"},n.a.createElement("label",{className:"trainpicker_label"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),n.a.createElement(C.a,{onChange:function(e){return i({from:e.from,to:e.to})},type:"double",grid:!1,from:r.from,to:r.to,min:500,max:7e3,hide_min_max:!0,skin:"material"})),n.a.createElement("div",null,n.a.createElement("fieldset",{className:"time-picker"},n.a.createElement("div",{className:"time-picker_titel"},n.a.createElement("div",{className:"time-picker_icon"},n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons"},"arrow_forward"))),n.a.createElement("h2",null,"\u0422\u0443\u0434\u0430"),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),G(!K)},className:"time-picker_roll-more time-picker_roll-less"})),!!K&&n.a.createElement("div",null,n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})))),n.a.createElement("div",null,n.a.createElement("fieldset",{className:"time-picker"},n.a.createElement("div",{className:"time-picker_titel"},n.a.createElement("div",{className:"time-picker_icon"},n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons"},"arrow_back"))),n.a.createElement("h2",null,"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),ae(!ee)},className:"time-picker_roll-more time-picker_roll-less"})),!!ee&&n.a.createElement("div",null,n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{className:"range-picker_label",htmlFor:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(C.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})))),n.a.createElement("fieldset",{className:"filters__buttons "},n.a.createElement("button",{onClick:function(t){t.preventDefault(),e.update(a.filters)},className:"filters__button"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))},re=function(e){var a=Object(s.useContext)(o),t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],i=c[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=(d[0],d[1]),_=Object(s.useState)([]),h=Object(l.a)(_,2),f=h[0],p=h[1],v=Object(s.useState)(0),N=Object(l.a)(v,2),b=N[0],g=N[1],k=Object(s.useState)(""),O=Object(l.a)(k,2),S=O[0],y=O[1],j=Object(s.useState)(""),w=Object(l.a)(j,2),C=w[0],x=w[1],T=Object(s.useState)(1),P=Object(l.a)(T,2),L=P[0],D=P[1],F=Object(s.useState)(0),B=Object(l.a)(F,2),J=B[0],M=B[1],R=Object(s.useState)([]),I=Object(l.a)(R,2),z=I[0],A=I[1],W=Object(s.useState)([]),H=Object(l.a)(W,2),V=(H[0],H[1]),$=Object(s.useState)([]),Z=Object(l.a)($,2),Y=Z[0],Q=Z[1],ae=Object(s.useState)(0),te=Object(l.a)(ae,2),se=te[0],ne=te[1],re=Object(s.useState)(""),le=Object(l.a)(re,2),ie=le[0],me=le[1],oe=Object(s.useState)(""),ue=Object(l.a)(oe,2),de=ue[0],Ee=ue[1],_e=Object(s.useState)(1),he=Object(l.a)(_e,2),fe=(he[0],he[1],Object(s.useState)(0)),pe=Object(l.a)(fe,2),ve=(pe[0],pe[1],e.currentTrain[0]||JSON.parse(sessionStorage.currentTrain[0])),Ne=ve._id,be=e.currentTrain[1]||JSON.parse(sessionStorage.currentTrain[1]),ge=be._id;return Object(s.useEffect)(function(){a.getSeats(Ne).then(function(e){i(e),y(e[0].coach.class_type),E(e.filter(function(a){return a.coach.class_type===e[0].coach.class_type})),x(e[0]),sessionStorage.trainId=Ne}),a.getSeats(ge).then(function(e){A(e),me(e[0].coach.class_type),V(e.filter(function(a){return a.coach.class_type===e[0].coach.class_type})),Ee(e[0]),sessionStorage.trainIdBack=ge})},[Ne,ge]),S&&r?n.a.createElement("section",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(ce,e),n.a.createElement(q,null)),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"seats-choice"},n.a.createElement("div",{className:"change-train change-train-to"},n.a.createElement("span",{className:"change-train_arrow"},n.a.createElement("i",{className:"material-icons"},"arrow_forward")),n.a.createElement(m.b,{to:"/search",className:"change-train_button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434")),n.a.createElement(K,{info:ve}),n.a.createElement(U,{passengers:{adults:L,children:J},setAdultSeats:function(e){return D(e)},setChildrenSeats:function(e){return M(e)}}),n.a.createElement(X,{coaches:r.filter(function(e){return e.coach.class_type===S}),currentType:S,currentCoach:C,setCurrentType:function(e){y(e),p([]),g(0)},setCurrentCoach:function(e){return x(e)}}),C&&n.a.createElement(ee,{passengers:L+J,type:S,coach:C,topPrice:C.coach.top_price,bottomPrice:C.coach.bottom_price,sidePrice:C.coach.side_price,chosen:f,setChosen:function(e){var a=f.slice();a.push(e),p(a)},cancelChosen:function(e){var a=f.slice(),t=a.findIndex(function(a){return a.index===e.index});a.splice(t,1),p(a)},setTotalPrice:function(e){return g(b+e)}}),n.a.createElement("div",{className:"total-price"},parseInt(b).toLocaleString())),e.currentTrain[0]._id!==e.currentTrain[1]._id&&n.a.createElement("div",{className:"seats-choice"},n.a.createElement("div",{className:"change-train change-train-from"},n.a.createElement("span",{className:"change-train_arrow"},n.a.createElement("i",{className:"material-icons"},"arrow_back")),n.a.createElement(m.b,{to:"/search",className:"change-train_button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434")),n.a.createElement(G,{info:be}),n.a.createElement(U,{passengers:{adults:L,children:J},setAdultSeats:function(e){return D(e)},setChildrenSeats:function(e){return M(e)}}),n.a.createElement(X,{coaches:z.filter(function(e){return e.coach.class_type===ie}),currentType:ie,currentCoach:de,setCurrentType:function(e){me(e),Q([]),ne(0)},setCurrentCoach:function(e){return Ee(e)}}),de&&n.a.createElement(ee,{passengers:L+J,type:ie,coach:de,topPrice:de.coach.top_price,bottomPrice:de.coach.bottom_price,sidePrice:de.coach.side_price,chosen:Y,setChosen:function(e){var a=Y.slice();a.push(e),Q(a)},cancelChosen:function(e){var a=Y.slice(),t=a.findIndex(function(a){return a.index===e.index});a.splice(t,1),Q(a)},setTotalPrice:function(e){return ne(se+e)}}),n.a.createElement("div",{className:"total-price"},parseInt(se).toLocaleString())),n.a.createElement("div",{className:"to-order-button-container"},n.a.createElement(m.b,{to:{pathname:"/passengers",passengers:{adults:L,children:J},passengersBack:{adults:L,children:J},seats:f,seatsBack:Y,price:b,priceBack:se}},n.a.createElement("button",{className:"to-order-button",disabled:0===f.length||L+J!==f.length},"\u0414\u0430\u043b\u0435\u0435"))))):n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader_image"}))},le=function(e){var a=e.props.currentTrain[0]||JSON.parse(sessionStorage.currentTrain[0]),t=a._id,c=e.props.currentTrain[1]||JSON.parse(sessionStorage.currentTrain[1]),r=t!==c._id,i=Object(s.useState)(!0),m=Object(l.a)(i,2),o=m[0],u=m[1],d=Object(s.useState)(!0),E=Object(l.a)(d,2),_=E[0],h=E[1],f=a,p=new Date(JSON.parse(sessionStorage.searchParams).date),v=c,N=new Date(JSON.parse(sessionStorage.searchParams).dateBack),b=new Date(p);b.setHours(b.getHours()+new Date(1e3*f.duration).getHours());return n.a.createElement("div",{className:"trip-details"},n.a.createElement("h2",null,"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),n.a.createElement("div",{className:"trip-details_to"},n.a.createElement("div",{className:"trip-details_title"},n.a.createElement("h3",{className:"trainpicker_label trainpicker_label-to"},"\u0422\u0443\u0434\u0430"),n.a.createElement("div",{className:"trainpicker_label-date"},n.a.createElement("span",null,p.toLocaleDateString())),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),u(!o)},className:"time-picker_roll-more time-picker_roll-less"})),!!o&&n.a.createElement("div",null,n.a.createElement("div",{className:"trip-details_date"}),n.a.createElement("div",{className:"train-details"},n.a.createElement("div",null,n.a.createElement("span",null,"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"),n.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement("b",null,f.train.name)),n.a.createElement("span",null,n.a.createElement("b",null,f.from.city.name,n.a.createElement("br",null),f.to.city.name)))),n.a.createElement("div",{className:"time-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*f.from.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},p.toLocaleDateString())),n.a.createElement("div",{className:"time-details_arrow"},Math.floor(f.duration/60/60)+":"+Math.floor(f.duration/60%60)),n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*f.to.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},b.toLocaleDateString()))),n.a.createElement("div",{className:"direction-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},f.from.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},f.from.railway_station_name)),n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},f.to.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},f.to.railway_station_name))))),!!r&&n.a.createElement("div",{className:"trip-details_back"},n.a.createElement("div",{className:"trip-details_title"},n.a.createElement("h3",{className:"trainpicker_label trainpicker_label-to"},"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"),n.a.createElement("div",{className:"trainpicker_label-date"},n.a.createElement("span",null,N.toLocaleDateString())),n.a.createElement("div",{onClick:function(e){e.currentTarget.classList.toggle("time-picker_roll-less"),h(!_)},className:"time-picker_roll-more time-picker_roll-less"})),!!_&&n.a.createElement("div",null,n.a.createElement("div",{className:"trip-details_date"}),n.a.createElement("div",{className:"train-details"},n.a.createElement("div",null,n.a.createElement("span",null,"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"),n.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement("b",null,v.train.name)),n.a.createElement("span",null,n.a.createElement("b",null,v.from.city.name,n.a.createElement("br",null),v.to.city.name)))),n.a.createElement("div",{className:"time-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*v.from.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},N.toLocaleDateString())),n.a.createElement("div",{className:"time-details_arrow time-details_arrow-back"},Math.floor(v.duration/60/60)+":"+Math.floor(v.duration/60%60)),n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*v.to.datetime).toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},b.toLocaleDateString()))),n.a.createElement("div",{className:"direction-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},v.to.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},v.to.railway_station_name)),n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},v.from.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},v.from.railway_station_name))))),n.a.createElement("div",{className:"trip-details_passengers"},n.a.createElement("div",{className:"trip-details_title "},n.a.createElement("h3",{className:"trainpicker_label trainpicker_label-passenger"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b")),n.a.createElement("div",{className:"train-details passengers-details "},n.a.createElement("div",null,"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445: ",n.a.createElement("b",null,e.passengers.adults)),n.a.createElement("div",null,"\u0414\u0435\u0442\u0435\u0439: ",n.a.createElement("b",null,e.passengers.children)))),n.a.createElement("div",{className:"trip-details_total"},n.a.createElement("span",null,"\u0418\u0422\u041e\u0413"),n.a.createElement("span",{className:""},parseInt(e.price).toLocaleString())))},ie=t(133),me=t(134),oe=t(64),ue=t.n(oe),de=t(54),Ee=t.n(de),_e=t(82),he=t.n(_e),fe=Object(f.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiFormControl:{root:{width:"100%",display:"block"}},MuiInput:{underline:{borderRadius:"3px","&:after":{display:"none"},"&:before":{display:"none"},"&:hover":{borderBottom:"none !important"}}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",boxSizing:"border-box"},input:{boxSizing:"border-box",fontSize:"18px",fontWeight:"100",padding:"3px 0 3px 10px",height:"30px",width:"100%",border:"1px solid #928F94",outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px"},notchedOutline:{border:"none",outline:"none"}}}});function pe(e){var a=e.inputRef,t=Object(me.a)(e,["inputRef"]);return n.a.createElement(ue.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:e.mask,prefix:e.prefix,placeholderChar:"_",showMask:!0}))}function ve(e){var a,t=n.a.useState({textmask:"    "}),s=Object(l.a)(t,2),c=s[0],r=s[1];return n.a.createElement(f.MuiThemeProvider,{theme:fe},n.a.createElement(he.a,null,n.a.createElement(Ee.a,{value:c.textmask,onChange:(a="textmask",function(t){r(Object(ie.a)({},c,Object(d.a)({},a,t.target.value))),e.onChange(t.target.value)}),id:"formatted-text-mask-input",inputComponent:pe,inputProps:{mask:e.inputmask}})))}var Ne=function(e){e.location.passengers&&(sessionStorage.passengers=JSON.stringify(e.location.passengers),sessionStorage.seats=JSON.stringify(e.location.seats),sessionStorage.price=e.location.price,sessionStorage.passengersBack=JSON.stringify(e.location.passengersBack),sessionStorage.seatsBack=JSON.stringify(e.location.seatsBack),sessionStorage.priceBack=e.location.priceBack);var a=e.location.passengers||JSON.parse(sessionStorage.passengers),t=e.location.price||JSON.parse(sessionStorage.price),c=(e.location.passengersBack||JSON.parse(sessionStorage.passengersBack),e.location.priceBack||JSON.parse(sessionStorage.priceBack)),r=t+("number"===typeof c?c:0);sessionStorage.totalPrice=JSON.stringify(r);var i=Object(s.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],E=Object(s.useState)([]),_=Object(l.a)(E,2),h=_[0],f=_[1],p=function(e){var a=h.slice();a.push(e),f(a)};return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(le,{props:e,passengers:a,price:r})),n.a.createElement("div",{className:"col-right"},new Array(a.adults).fill("").map(function(e,a){return n.a.createElement(be,{passenger:a+1,open:!(a>0),adult:!0,setValid:function(e){return d(e)},valid:u,setPassengers:function(e){return p(e)}})}),new Array(a.children).fill("").map(function(e,t){return n.a.createElement(be,{passenger:a.adults+1+t,open:!1,child:!0,setValid:function(e){return d(e)},valid:u,setPassengers:function(e){return p(e)}})}),n.a.createElement(m.b,{to:"/payment"},n.a.createElement("button",{disabled:u.length!==a.adults+a.children,onClick:function(){return sessionStorage.passengersList=JSON.stringify(h)},className:"to-order-button"},"\u0414\u0430\u043b\u0435\u0435"))))},be=function(e){var a=e.open,t=e.passenger,c=e.child,r=e.adult,i=e.valid,m=e.setValid,o=e.setPassengers,u=Object(s.useState)(a),d=Object(l.a)(u,2),E=d[0],_=d[1],h=Object(s.useRef)(null),f=Object(s.useState)(""),p=Object(l.a)(f,2),N=p[0],b=p[1],g=Object(s.useState)(""),k=Object(l.a)(g,2),O=k[0],S=k[1],y=Object(s.useState)(""),j=Object(l.a)(y,2),w=j[0],C=j[1],x=Object(s.useState)(null),T=Object(l.a)(x,2),P=T[0],L=T[1],D=Object(s.useState)("\u043c\u0443\u0436\u0441\u043a\u043e\u0439"),F=Object(l.a)(D,2),B=F[0],J=F[1],M=Object(s.useState)(!1),R=Object(l.a)(M,2),I=R[0],z=R[1],A=Object(s.useState)(""),W=Object(l.a)(A,2),H=W[0],q=W[1],V=Object(s.useState)(""),$=Object(l.a)(V,2),Z=$[0],Y=$[1],Q=Object(s.useState)(""),K=Object(l.a)(Q,2),G=K[0],U=K[1],X=Object(s.useState)(r),ee=Object(l.a)(X,2),ae=ee[0],te=ee[1],se=function(e){var a=e.target.value;if(!a.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451 -]/g))switch(e.target.name){case"last-name":b(a);break;case"first-name":S(a);break;case"patronymic":C(a);break;default:return}},ne=4===H.replace(/\s|_/g,"").length&&6===Z.replace(/\s|_/g,"").length,ce=12===G.replace(/\s|_/g,"").length,re=O&&N&&w&&(ne||ce)&&P;if(Object(s.useEffect)(function(){re&&o({name:N+" "+O+" "+w,gender:"\u041f\u043e\u043b "+B,dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f "+P,document:ae?"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424 "+H.replace(/\s/g,"")+Z.replace(/\s/g,""):"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 "+G.replace(/\s/g,""),adult:r})},[re]),E){var le=new Date,ie=r?new Date(le.setYear(le.getFullYear()-100)):new Date(le.setYear(le.getFullYear()-10));return n.a.createElement("div",{className:"passengers-card passengers-card_open"},n.a.createElement("div",{onClick:function(){return _(!E)},className:"passengers-card_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",t),n.a.createElement("form",{ref:h,action:"",className:"passengers-card_form"},n.a.createElement("fieldset",null,n.a.createElement("div",{className:"select-container"},n.a.createElement("select",{defaultValue:r?"adult":"child",className:"passengers-card_select",name:"",id:""},n.a.createElement("option",{disabled:c,value:"adult"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"),n.a.createElement("option",{disabled:r,value:"child"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"))),n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{htmlFor:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{value:N,onChange:se,type:"text",name:"last-name",className:"passengers-card_last-name",id:""})),n.a.createElement("label",{htmlFor:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{value:O,onChange:se,type:"text",name:"first-name",className:"passengers-card_name",id:""})),n.a.createElement("label",{htmlFor:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{value:w,onChange:se,type:"text",name:"patronymic",className:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{className:"gender_label",htmlFor:"gender"},"\u041f\u043e\u043b ",n.a.createElement("br",null),n.a.createElement("input",{onChange:function(){return J("\u043c\u0443\u0436\u0441\u043a\u043e\u0439")},defaultChecked:!0,value:"\u041c",type:"radio",className:"gender",name:"gender",id:"gender"}),n.a.createElement("input",{onChange:function(){return J("\u0436\u0435\u043d\u0441\u043a\u0438\u0439")},value:"\u0416",type:"radio",className:"gender",name:"gender",id:"gender"})),n.a.createElement("label",{className:"birth-picker"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",n.a.createElement(v,{minDate:ie,minDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",disableFuture:!0,adornment:{style:{display:"none"}},defaultDate:null,onDateSelect:function(e){return L(e.toLocaleDateString())}}))),n.a.createElement("div",{className:"disabilities-check"},n.a.createElement("input",{checked:I,onChange:function(){return z(!I)},type:"checkbox",id:"disabilities",className:"disabilities"}),n.a.createElement("label",{htmlFor:"disabilities"},"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"))),n.a.createElement("fieldset",null,n.a.createElement("div",null,n.a.createElement("label",{className:"select-label",htmlFor:""},"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",n.a.createElement("select",{defaultValue:r?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",onChange:function(){return te(!ae)},name:"",id:""},n.a.createElement("option",{value:"\u043f\u0430\u0441\u043f\u043e\u0440\u0442"},"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),n.a.createElement("option",{disabled:r,value:"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"))),r?n.a.createElement(s.Fragment,null,n.a.createElement("label",{htmlFor:""},"\u0421\u0435\u0440\u0438\u044f",n.a.createElement(ve,{value:H,onChange:function(e){return q(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/]})),n.a.createElement("label",{htmlFor:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(ve,{value:Z,onChange:function(e){return Y(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]}))):n.a.createElement("label",{htmlFor:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(ve,{value:G,onChange:function(e){return U(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]})))),n.a.createElement("fieldset",null,O&&N&&w&&(H&&Z||G)&&P?n.a.createElement("output",{className:"error"},function(){try{!function(){if(O.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f!");if(N.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0444\u0430\u043c\u0438\u043b\u0438\u044e");if(w.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e")}(),function(){if(ae){if(H.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430");if(Z.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 6 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430")}else if(G.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 12 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")}()}catch(a){return n.a.createElement("span",{className:"error"},a.message)}if(!i.find(function(e){return e===t})){var e=i.slice();e.push(t),m(e)}return n.a.createElement("span",{className:"valid"},"\u0413\u043e\u0442\u043e\u0432\u043e!")}()):n.a.createElement("output",null,n.a.createElement("span",{className:"warning"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b!")))))}return n.a.createElement("div",{className:"passengers-card "},n.a.createElement("div",{onClick:function(){return _(!E)},className:"passengers-card_title "},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",t))},ge=function(e){var a=JSON.parse(sessionStorage.passengers),t=JSON.parse(sessionStorage.totalPrice),c=Object(s.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),E=d[0],_=d[1],h=Object(s.useState)(""),f=Object(l.a)(h,2),p=f[0],v=f[1],N=Object(s.useState)(""),b=Object(l.a)(N,2),g=b[0],k=b[1],O=Object(s.useState)(""),S=Object(l.a)(O,2),y=S[0],j=S[1],w=Object(s.useState)("credit-card"),C=Object(l.a)(w,2),x=C[0],T=C[1],P=function(e){var a=e.target.value;if(!a.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451]/g))switch(e.target.name){case"last-name":o(a);break;case"first-name":_(a);break;case"patronymic":v(a);break;default:return}},L=function(e){T(e.currentTarget.id)},D=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,10}$/i.test(y),F=/_/.test(g),B=E&&i&&p;return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(le,{props:e,passengers:a,price:t})),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"order"},n.a.createElement("form",{className:"order-details",id:"order-details"},n.a.createElement("div",{className:"order_title"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430"),n.a.createElement("fieldset",{className:"order_payer"},n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{htmlFor:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{required:!0,value:i,onChange:P,type:"text",name:"last-name",className:"passengers-card_last-name",id:""})),n.a.createElement("label",{htmlFor:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{required:!0,value:E,onChange:P,type:"text",name:"first-name",className:"passengers-card_name",id:""})),n.a.createElement("label",{htmlFor:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{required:!0,value:p,onChange:P,type:"text",name:"patronymic",className:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{className:"contact-details"},n.a.createElement("label",{htmlFor:""},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",n.a.createElement(ve,{value:g,onChange:function(e){return k(e)},prefix:"+7",inputmask:["+","7"," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}),F?n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 10 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u0435\u0437 +7 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 987 654 3210"):""),n.a.createElement("label",{htmlFor:""},"Email",n.a.createElement("input",{value:y,onChange:function(e){var a=e.target.value;a.match(/[^a-zA-Z0-9,_,-,@,.]/)||j(a)},type:"email",name:"email",placeholder:"email@mail.ru",className:"passengers-card_email",style:{textTransform:"none"}}),D?"":n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")))),n.a.createElement("div",{className:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("fieldset",{className:"payment-methods"},n.a.createElement("div",null,n.a.createElement("input",{onChange:L,defaultChecked:!0,type:"radio",name:"payment-method",id:"credit-card"}),n.a.createElement("label",{htmlFor:"credit-card"},"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"),n.a.createElement("input",{onChange:L,type:"radio",name:"payment-method",id:"paypal"}),n.a.createElement("label",{htmlFor:"paypal"},"PayPal"),n.a.createElement("input",{onChange:L,type:"radio",name:"payment-method",id:"qiwi-wallet"}),n.a.createElement("label",{htmlFor:"qiwi-wallet"},"Visa QIWI Wallet"))))),n.a.createElement(m.b,{to:{pathname:"/confirmation",paymentMethod:x}},n.a.createElement("button",{onClick:function(){return sessionStorage.payer=JSON.stringify({first_name:E,last_name:i,patronymic:p,phone:g,email:y,payment_method:"online"})},className:"purchase-button",disabled:!(D&&!F&&B)},"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"))))},ke=function(e){var a=e.departure,t=e.trainsBack.departure||e.trainsBack;return[].push(a,t),n.a.createElement("div",{className:"train"},n.a.createElement("div",{className:"train-info"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",{className:"train-info_destination"},n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement("div",{className:"train-schedule-all"},n.a.createElement(V,{info:a,showTravelTime:!0}),n.a.createElement($,{info:t,showTravelTime:!0})),n.a.createElement("div",{className:"train-seats"},n.a.createElement("ul",{className:"train-seats_list"},a.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.fourth),n.a.createElement("span",{className:"train-seats_price"},a.price_info.fourth.top_price)):null,a.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.second),n.a.createElement("span",{className:"train-seats_price"},a.price_info.second.top_price)):null,a.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.third),n.a.createElement("span",{className:"train-seats_price"},a.price_info.third.top_price)):null,a.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.first),n.a.createElement("span",{className:"train-seats_price"},a.price_info.first.top_price)):null),n.a.createElement("ul",{className:"train-seats_list"},t.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{className:"train-seats_amount"},t.available_seats_info.fourth),n.a.createElement("span",{className:"train-seats_price"},t.price_info.fourth.top_price)):null,t.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{className:"train-seats_amount"},t.available_seats_info.second),n.a.createElement("span",{className:"train-seats_price"},t.price_info.second.top_price)):null,t.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{className:"train-seats_amount"},t.available_seats_info.third),n.a.createElement("span",{className:"train-seats_price"},t.price_info.third.top_price)):null,t.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{className:"train-seats_amount"},t.available_seats_info.first),n.a.createElement("span",{className:"train-seats_price"},t.price_info.first.top_price)):null),n.a.createElement("div",null,n.a.createElement("div",{className:"train-seats_icons"},a.have_wifi?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c wi-fi"},n.a.createElement("i",{className:"fas fa-wifi"})):null,a.have_air_conditioning?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"},n.a.createElement("i",{className:"far fa-snowflake"})):null,a.is_express?n.a.createElement("span",{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},n.a.createElement("span",{className:"rocket"})):null),n.a.createElement("div",{className:"train-seats_button-container"},n.a.createElement(m.b,{className:"train-seats_button train-seats_button-not-color",to:"/search"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))))},Oe=function(e){console.log(e);var a=JSON.parse(sessionStorage.passengersList),t=JSON.parse(sessionStorage.passengers),s=JSON.parse(sessionStorage.totalPrice),c=(JSON.parse(sessionStorage.currentTrain),e.location.paymentMethod);return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(le,{props:e,passengers:t,price:s})),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u041f\u043e\u0435\u0437\u0434"),n.a.createElement(ke,{trainsBack:e.currentTrain[1],departure:e.currentTrain[0]})),n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"),n.a.createElement(Se,{list:a})),n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("div",{className:"confirmation_payment"},n.a.createElement("div",{className:"confirmation_method"},function(){switch(c){case"paypal":return"PayPal";case"credit-card":return"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439";case"qiwi-wallet":return"Visa QIWI Wallet";default:return}}()),n.a.createElement("div",{className:"confirmation_price"},n.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e:"),n.a.createElement("span",null,parseInt(s).toLocaleString())))),n.a.createElement(m.b,{to:"/success"},n.a.createElement("button",{className:"purchase-button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))},Se=function(e){return e.list.map(function(e,a){return n.a.createElement(ye,{key:a,info:e})})},ye=function(e){e.key;var a=e.info;return n.a.createElement("div",{className:"passenger"},n.a.createElement("div",{className:"passenger-icon"},n.a.createElement("div",{className:"passenger-icon_img"}),n.a.createElement("div",{className:"passenger-icon_title"},a.adult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439")),n.a.createElement("div",{className:"passenger-info"},n.a.createElement("div",{className:"passenger-info_name"},a.name),n.a.createElement("div",{className:"passenger-info_other"},a.gender),n.a.createElement("div",{className:"passenger-info_other"},a.dateOfBirth),n.a.createElement("div",{className:"passenger-info_other"},a.document)))},je=function(e){var a=Object(s.useContext)(o),t=JSON.parse(sessionStorage.payer),c=JSON.parse(sessionStorage.currentTrain),r=JSON.parse(sessionStorage.passengersList),l=JSON.parse(sessionStorage.seats),i=parseInt(sessionStorage.totalPrice),m={user:t,departure:{route_direction_id:c._id,seats:r.map(function(e,a){return{person_info:{is_adult:e.adult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:e.dateOfBirth,document_type:e.document},seat_number:l[a]}})}};return Object(s.useEffect)(function(){a.createOrder(m).then(function(e){return console.log(e)})},[]),n.a.createElement("div",{className:"success"},n.a.createElement("h1",{className:"success_title"},"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),n.a.createElement("div",{className:"success_banner"},n.a.createElement("div",{className:"success_order"},n.a.createElement("div",{className:"success_id"},"\u2116 \u0417\u0430\u043a\u0430\u0437\u0430 285\u0410\u0410"),n.a.createElement("div",{className:"success_price"},i.toLocaleString())),n.a.createElement("ul",{className:"success_icons"},n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-computer"}),n.a.createElement("span",{className:"success_text"},"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0432\u0430\u0448 e-mail")),n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-tickets"}),n.a.createElement("span",{className:"success_text"},"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438")),n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-conductor"}),n.a.createElement("span",{className:"success_text"},"\u043f\u0440\u0435\u0434\u044c\u044f\u0432\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"))),n.a.createElement("div",{className:"success-info"},n.a.createElement("h2",{className:"success-info_title"},t.first_name+" "+t.patronymic+"!"),n.a.createElement("p",null,"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d. ",n.a.createElement("br",null),"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."),n.a.createElement("h3",null,"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!")),n.a.createElement("div",{className:"rating"},n.a.createElement("span",{className:"rating_text"},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"),n.a.createElement(we,null))))},we=function(){var e=new Array(5).fill(""),a=Object(s.useState)(-1),t=Object(l.a)(a,2),c=t[0],r=t[1],i=function(e){r(e.currentTarget.dataset.id)};return n.a.createElement("div",{className:"rating_stars"},e.map(function(e,a){return n.a.createElement(Ce,{index:a,rating:c,onClick:i})}))},Ce=function(e){var a=e.index,t=e.rating,s=e.onClick,c=a>t?"none":"#FFFFFF";return n.a.createElement("svg",{"data-id":a,onClick:s,width:"36",height:"34",viewBox:"0 0 56 44",fill:c,xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z",stroke:"white","stroke-width":"2"}))},xe=t(23),Te=t.n(xe),Pe=t(42),Le=(n.a.createContext(),new function e(){var a=this;Object(x.a)(this,e),this.fetchData=function(){var e=Object(Pe.a)(Te.a.mark(function e(a){var t,s,n=arguments;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{method:"GET"},e.next=3,fetch("https://netology-trainbooking.herokuapp.com".concat(a),t);case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(a,", status - ").concat(s.status));case 6:return e.next=8,s.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.getCities=function(){var e=Object(Pe.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes/cities?name=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.getRoutes=function(){var e=Object(Pe.a)(Te.a.mark(function e(t,s,n,c){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes?from_city_id=".concat(t.from.id,"&to_city_id=").concat(t.to.id,"&sort=").concat(s,"&limit=").concat(n,"&offset=").concat(c,"&").concat(t.filters||"?"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a,t,s,n){return e.apply(this,arguments)}}(),this.getRoutesReverse=function(){var e=Object(Pe.a)(Te.a.mark(function e(t,s,n,c){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes?from_city_id=".concat(t.to.id,"&to_city_id=").concat(t.from.id,"&sort=").concat(s,"&limit=").concat(n,"&offset=").concat(c,"&").concat(t.filters||"?"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a,t,s,n){return e.apply(this,arguments)}}(),this.getSeats=function(){var e=Object(Pe.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes/".concat(t,"/seats"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.createOrder=function(){var e=Object(Pe.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/order",{method:"POST",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.subscribe=function(){var e=Object(Pe.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/subscribe?".concat(t),{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}),De=function(){void 0===sessionStorage.searchParams&&void 0===sessionStorage.currentTrain&&(sessionStorage.searchParams=JSON.stringify({}),sessionStorage.currentTrain=JSON.stringify({}));var e=Object(i.f)(j),a=Object(s.useState)(JSON.parse(sessionStorage.searchParams)),t=Object(l.a)(a,2),c=t[0],r=t[1],u=Object(s.useState)(JSON.parse(sessionStorage.currentTrain)),d=Object(l.a)(u,2),E=d[0],_=d[1],h=Object(s.useState)([]),f=Object(l.a)(h,2),p=f[0],v=f[1],N=Object(s.useState)([]),b=Object(l.a)(N,2),k=b[0],O=b[1],S=Object(s.useState)({about:700,how:1100,reviews:1700,contacts:2300}),y=Object(l.a)(S,2),C=y[0],x=y[1];return n.a.createElement(m.a,{basename:"/train-diploma/"},n.a.createElement(o.Provider,{value:Le},n.a.createElement(e,{homepageRefs:C,setSearchParams:function(e){r(e),sessionStorage.searchParams=JSON.stringify(e)}}),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/search",render:function(e){return n.a.createElement(Q,Object.assign({},e,{searchParams:c,trains:p,setTrains:function(e){return v(e)},trainsReverse:k,setTrainsReverse:function(e){return O(e)},setSearchParams:function(e){r(e),sessionStorage.searchParams=JSON.stringify(e)},setCurrentTrain:function(e){sessionStorage.currentTrain=JSON.stringify(e),_(e)}}))}}),n.a.createElement(i.a,{path:"/seats",render:function(e){return n.a.createElement(re,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/payment",render:function(e){return n.a.createElement(ge,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/passengers",render:function(e){return n.a.createElement(Ne,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/confirmation",render:function(e){return n.a.createElement(Oe,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/success",component:je}),n.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return n.a.createElement(g,Object.assign({},e,{setHomepageRefs:x}))}})),n.a.createElement(w,null)))};r.a.render(n.a.createElement(De,null),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.c7086235.chunk.js.map