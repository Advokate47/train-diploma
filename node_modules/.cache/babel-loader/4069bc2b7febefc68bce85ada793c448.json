{"ast":null,"code":"import _slicedToArray from \"/Users/ksenialasenko/Desktop/gitHub/train-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/TripDetails.js\";\nimport React, { useEffect, useRef, useState, useContext } from 'react';\nimport { CurrentTrain } from './CurrentTrain';\n\nvar TripDetails = function TripDetails(props) {\n  console.log(props);\n  var currentTrain = props.props.currentTrain[0] || JSON.parse(sessionStorage.currentTrain[0]);\n  var id = currentTrain['_id'];\n  var currentTrainBack = props.props.currentTrain[1] || JSON.parse(sessionStorage.currentTrain[1]);\n  var idBack = currentTrainBack['_id'];\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      forth = _useState2[0],\n      setForth = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      back = _useState4[0],\n      setBack = _useState4[1]; // const data = JSON.parse(sessionStorage.currentTrain[0]);\n\n\n  var data = currentTrain;\n  var travelDate = new Date(JSON.parse(sessionStorage.searchParams).date);\n  var dateBack = currentTrainBack;\n  var travelDateBack = new Date(JSON.parse(sessionStorage.searchParams).dateBack);\n  var arrivalDate = new Date(travelDate);\n  arrivalDate.setHours(arrivalDate.getHours() + new Date(data.duration * 1000).getHours());\n\n  var handleSortByForth = function handleSortByForth(event) {\n    var list = event.currentTarget; // const item = event.target;\n\n    list.classList.toggle('time-picker_roll-less'); // Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    // item.classList.add('sort-by-current');\n    // setSortBy(item.dataset.sort);\n    // setCurrentPage(1);\n\n    setForth(!forth);\n  };\n\n  var handleSortByBack = function handleSortByBack(event) {\n    var list = event.currentTarget; // const item = event.target;\n\n    list.classList.toggle('time-picker_roll-less'); // Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    // item.classList.add('sort-by-current');\n    // setSortBy(item.dataset.sort);\n    // setCurrentPage(1);\n\n    setBack(!back);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"trip-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438\"), React.createElement(\"div\", {\n    className: \"trip-details_to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"trip-details_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"trainpicker_label trainpicker_label-to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"\\u0422\\u0443\\u0434\\u0430\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, travelDate.toLocaleDateString())), React.createElement(\"div\", {\n    onClick: handleSortByForth,\n    className: \"time-picker_roll-more time-picker_roll-less\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), forth ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"trip-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"train-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"\\u2116 \\u041F\\u043E\\u0435\\u0437\\u0434\\u0430\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, data.train.name)), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, data.from.city.name, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), data.to.city.name)))), React.createElement(\"div\", {\n    className: \"time-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"time-details_time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, new Date(data.from.datetime * 1000).toLocaleTimeString('ru', {\n    hour: '2-digit',\n    minute: '2-digit'\n  })), React.createElement(\"span\", {\n    className: \"time-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, travelDate.toLocaleDateString())), React.createElement(\"div\", {\n    className: \"time-details_arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, Math.floor(data.duration / 60 / 60) + \":\" + Math.floor(data.duration / 60 % 60)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"time-details_time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, new Date(data.to.datetime * 1000).toLocaleTimeString('ru', {\n    hour: '2-digit',\n    minute: '2-digit'\n  })), React.createElement(\"span\", {\n    className: \"time-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, arrivalDate.toLocaleDateString()))), React.createElement(\"div\", {\n    className: \"direction-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"direction-details_city\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, data.from.city.name), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"direction-details_station\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, data.from.railway_station_name)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"direction-details_city\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, data.to.city.name), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"direction-details_station\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, data.to.railway_station_name)))) : false), React.createElement(\"div\", {\n    className: \"trip-details_to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"trip-details_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"trainpicker_label trainpicker_label-to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u043E\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, travelDateBack.toLocaleDateString())), React.createElement(\"div\", {\n    onClick: handleSortByBack,\n    className: \"time-picker_roll-more time-picker_roll-less\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), back ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"trip-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"train-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"\\u2116 \\u041F\\u043E\\u0435\\u0437\\u0434\\u0430\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, dateBack.train.name)), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, dateBack.from.city.name, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), dateBack.to.city.name)))), React.createElement(\"div\", {\n    className: \"time-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"time-details_time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, new Date(data.from.datetime * 1000).toLocaleTimeString('ru', {\n    hour: '2-digit',\n    minute: '2-digit'\n  })), React.createElement(\"span\", {\n    className: \"time-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, travelDate.toLocaleDateString())), React.createElement(\"div\", {\n    className: \"time-details_arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, Math.floor(data.duration / 60 / 60) + \":\" + Math.floor(data.duration / 60 % 60)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"time-details_time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, new Date(data.to.datetime * 1000).toLocaleTimeString('ru', {\n    hour: '2-digit',\n    minute: '2-digit'\n  })), React.createElement(\"span\", {\n    className: \"time-details_date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, arrivalDate.toLocaleDateString()))), React.createElement(\"div\", {\n    className: \"direction-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"direction-details_city\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, data.from.city.name), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"direction-details_station\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, data.from.railway_station_name)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"direction-details_city\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, data.to.city.name), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"direction-details_station\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, data.to.railway_station_name)))) : false), React.createElement(\"div\", {\n    className: \"trip-details_passengers\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"trip-details_title \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"trainpicker_label trainpicker_label-passenger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"\\u041F\\u0430\\u0441\\u0441\\u0430\\u0436\\u0438\\u0440\\u044B\")), React.createElement(\"div\", {\n    className: \"train-details passengers-details \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Взрослых: \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, props.passengers.adults)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Детей: \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, props.passengers.children)))), React.createElement(\"div\", {\n    className: \"trip-details_total\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, \"\\u0418\\u0422\\u041E\\u0413\"), React.createElement(\"span\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, parseInt(props.price).toLocaleString())));\n};\n\nexport { TripDetails };","map":{"version":3,"sources":["/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/TripDetails.js"],"names":["React","useEffect","useRef","useState","useContext","CurrentTrain","TripDetails","props","console","log","currentTrain","JSON","parse","sessionStorage","id","currentTrainBack","idBack","forth","setForth","back","setBack","data","travelDate","Date","searchParams","date","dateBack","travelDateBack","arrivalDate","setHours","getHours","duration","handleSortByForth","event","list","currentTarget","classList","toggle","handleSortByBack","toLocaleDateString","train","name","from","city","to","datetime","toLocaleTimeString","hour","minute","Math","floor","railway_station_name","passengers","adults","children","parseInt","price","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useContext } from 'react';\nimport { CurrentTrain } from './CurrentTrain';\n\nconst TripDetails = (props) => {\n  console.log(props)\n  const currentTrain = props.props.currentTrain[0] || JSON.parse(sessionStorage.currentTrain[0]);\n  const id = currentTrain['_id'];\n  const currentTrainBack = props.props.currentTrain[1] || JSON.parse(sessionStorage.currentTrain[1]);\n  const idBack = currentTrainBack['_id'];\n\n  const [forth, setForth] = useState(true);\n  const [back, setBack] = useState(true);\n\n  // const data = JSON.parse(sessionStorage.currentTrain[0]);\n  const data = currentTrain;\n  const travelDate = new Date(JSON.parse(sessionStorage.searchParams).date);\n  const dateBack = currentTrainBack;\n  const travelDateBack = new Date(JSON.parse(sessionStorage.searchParams).dateBack);\n  const arrivalDate = new Date(travelDate);\n  arrivalDate.setHours(arrivalDate.getHours() + (new Date(data.duration * 1000)).getHours());\n\n  const handleSortByForth = event => {\n    const list = event.currentTarget;\n    // const item = event.target;\n    list.classList.toggle('time-picker_roll-less');\n    // Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    // item.classList.add('sort-by-current');\n    // setSortBy(item.dataset.sort);\n    // setCurrentPage(1);\n    setForth(!forth)\n  }\n  const handleSortByBack = event => {\n    const list = event.currentTarget;\n    // const item = event.target;\n    list.classList.toggle('time-picker_roll-less');\n    // Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    // item.classList.add('sort-by-current');\n    // setSortBy(item.dataset.sort);\n    // setCurrentPage(1);\n    setBack(!back)\n  }\n\n  return (\n    <div className=\"trip-details\">\n      <h2>Детали поездки</h2>\n      <div className=\"trip-details_to\">\n\n      <div className=\"trip-details_title\">\n          <h3  className=\"trainpicker_label trainpicker_label-to\">Туда</h3>\n          <div>\n            <span>{travelDate.toLocaleDateString()}</span>\n            {/* <span><b>{data.train.name}</b></span>\n            <span><b>{data.from.city.name}<br/>{data.to.city.name}</b></span> */}\n          </div>\n          <div onClick={handleSortByForth} className=\"time-picker_roll-more time-picker_roll-less\">\n                {/* <div  className=\"trainpicker__reverse\" type=\"checkbox\" name=\"reverse\" id=\"reverse\">\n                  <i className=\"\"></i>\n                </div> */}\n              </div>\n      </div>\n\n      {forth ? (<div>\n\n        <div className=\"trip-details_date\"></div>\n\n        <div className=\"train-details\">\n          <div>\n            {/* <span>Дата</span> */}\n            <span>№ Поезда</span>\n            <span>Название</span>\n          </div>\n          <div>\n            {/* <span>{travelDate.toLocaleDateString()}</span> */}\n            <span><b>{data.train.name}</b></span>\n            <span><b>{data.from.city.name}<br/>{data.to.city.name}</b></span>\n          </div>\n        </div>\n              \n        <div className=\"time-details\">\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n          </div>\n          <div className=\"time-details_arrow\">{Math.floor(data.duration  / 60 / 60) + \":\" +  Math.floor((data.duration / 60) % 60) }</div>\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{arrivalDate.toLocaleDateString()}</span>\n          </div>\n        </div>\n        <div className=\"direction-details\">\n          <div>\n            <span className=\"direction-details_city\">{data.from.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.from.railway_station_name}</span>\n          </div>\n          <div>\n            <span className=\"direction-details_city\">{data.to.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.to.railway_station_name}</span>\n          </div>\n        </div>\n      </div>) : false}\n\n\n\n\n\n      \n  </div>\n\n  <div className=\"trip-details_to\">\n      <div className=\"trip-details_title\">\n          <h3  className=\"trainpicker_label trainpicker_label-to\">Обратно</h3>\n          <div>\n            <span>{travelDateBack.toLocaleDateString()}</span>\n            {/* <span><b>{data.train.name}</b></span>\n            <span><b>{data.from.city.name}<br/>{data.to.city.name}</b></span> */}\n          </div>\n          <div onClick={handleSortByBack} className=\"time-picker_roll-more time-picker_roll-less\">\n                {/* <div  className=\"trainpicker__reverse\" type=\"checkbox\" name=\"reverse\" id=\"reverse\">\n                  <i className=\"\"></i>\n                </div> */}\n              </div>\n      </div>\n\n      {back ? (<div>\n\n        <div className=\"trip-details_date\"></div>\n\n        <div className=\"train-details\">\n          <div>\n            {/* <span>Дата</span> */}\n            <span>№ Поезда</span>\n            <span>Название</span>\n          </div>\n          <div>\n            {/* <span>{travelDate.toLocaleDateString()}</span> */}\n            <span><b>{dateBack.train.name}</b></span>\n            <span><b>{dateBack.from.city.name}<br/>{dateBack.to.city.name}</b></span>\n          </div>\n        </div>\n              \n        <div className=\"time-details\">\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.from.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n          </div>\n          <div className=\"time-details_arrow\">{Math.floor(data.duration  / 60 / 60) + \":\" +  Math.floor((data.duration / 60) % 60) }</div>\n          <div>\n            <span className=\"time-details_time\">{(new Date(data.to.datetime * 1000)).toLocaleTimeString('ru', {hour: '2-digit', minute: '2-digit'})}</span>\n            <span className=\"time-details_date\">{arrivalDate.toLocaleDateString()}</span>\n          </div>\n        </div>\n        <div className=\"direction-details\">\n          <div>\n            <span className=\"direction-details_city\">{data.from.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.from.railway_station_name}</span>\n          </div>\n          <div>\n            <span className=\"direction-details_city\">{data.to.city.name}</span>\n            <br/>\n            <span className=\"direction-details_station\">{data.to.railway_station_name}</span>\n          </div>\n        </div>\n      </div>) : false}</div>\n  \n  \n    <div className=\"trip-details_passengers\">\n      <div className=\"trip-details_title \">\n        <h3  className=\"trainpicker_label trainpicker_label-passenger\">Пассажиры</h3>\n      </div>\n      <div className=\"train-details passengers-details \">\n        <div>{\"Взрослых: \"}<b>{props.passengers.adults}</b></div>\n        <div>{\"Детей: \"}<b>{props.passengers.children}</b></div>\n        </div>\n    </div>\n\n      <div className=\"trip-details_total\">\n        <span>ИТОГ</span>\n        <span className=\"\">{parseInt(props.price).toLocaleString()}</span>\n      </div>\n    </div> \n  )\n}\n\nexport {TripDetails}"]},"metadata":{},"sourceType":"module"}