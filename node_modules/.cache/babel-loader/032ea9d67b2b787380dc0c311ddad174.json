{"ast":null,"code":"import _slicedToArray from \"/Users/ksenialasenko/Desktop/gitHub/train-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/FiltersForm.js\";\nimport React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport { ApiServiceContext } from './context';\nimport { Datepicker } from './Datepicker';\n\nvar FiltersForm = function FiltersForm(props) {\n  console.log(props.searchParams);\n  var api = useContext(ApiServiceContext);\n  var params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n\n  var _useState = useState({\n    from: 500,\n    to: 7000\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      cost = _useState2[0],\n      setCost = _useState2[1];\n\n  var _useState3 = useState({\n    from: 0,\n    to: 24\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      departureTime = _useState4[0],\n      setDepartureTime = _useState4[1];\n\n  var _useState5 = useState({\n    from: 0,\n    to: 24\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      arrivalTime = _useState6[0],\n      setArrivalTime = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      first = _useState8[0],\n      _setFirst = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      second = _useState10[0],\n      _setSecond = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      third = _useState12[0],\n      _setThird = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      fourth = _useState14[0],\n      _setFourth = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      express = _useState16[0],\n      _setExpress = _useState16[1];\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      wifi = _useState18[0],\n      _setWifi = _useState18[1];\n\n  var _useState19 = useState(new Date()),\n      _useState20 = _slicedToArray(_useState19, 2),\n      date = _useState20[0],\n      setDate = _useState20[1];\n\n  params.filters = \"price_from=\".concat(cost.from, \"&price_to=\").concat(cost.to).concat(first ? '&have_first_className=true' : '').concat(second ? '&have_second_className=true' : '').concat(third ? '&have_third_className=true' : '').concat(fourth ? '&have_fourth_className=true' : '').concat(wifi ? '&have_wifi=true' : '').concat(express ? '&have_express=true' : '');\n\n  var addFilters = function addFilters(event) {\n    event.preventDefault();\n    props.update(params.filters);\n  };\n\n  var resetFilters = function resetFilters(event) {\n    event.preventDefault();\n    setCost({\n      from: 500,\n      to: 7000\n    });\n    setDepartureTime({\n      from: 0,\n      to: 24\n    });\n    setArrivalTime({\n      from: 0,\n      to: 24\n    });\n    params.filters = '';\n    window.location.href = '/search';\n  };\n\n  var formref;\n\n  var handleDropdownFilter = function handleDropdownFilter() {\n    formref.classList.toggle('minimized');\n  };\n\n  return React.createElement(\"div\", {\n    className: \"filters-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: handleDropdownFilter,\n    className: \"filter-cog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-cog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"i\", {\n    className: \"far fa-window-close hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), React.createElement(\"form\", {\n    ref: function ref(el) {\n      return formref = el;\n    },\n    action: \"\",\n    className: \"search-form minimized\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    onClick: handleDropdownFilter,\n    className: \"search-form__set\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438\"), React.createElement(Datepicker, {\n    style: {\n      width: \"285px\",\n      height: \"52px\"\n    },\n    onDateSelect: function onDateSelect(date) {\n      sessionStorage.travelDate = date;\n      setDate(date);\n    },\n    defaultDate: props.searchParams.date,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u043E\\u0437\\u0432\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F\"), React.createElement(Datepicker, {\n    style: {\n      width: \"285px\",\n      height: \"52px\"\n    },\n    onDateSelect: function onDateSelect(date) {\n      sessionStorage.travelDate = date;\n      setDate(date);\n    },\n    defaultDate: props.searchParams.dateBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))), React.createElement(\"fieldset\", {\n    className: \"seat-types\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Switches, {\n    first: first,\n    second: second,\n    third: third,\n    fourth: fourth,\n    express: express,\n    wifi: wifi,\n    setFirst: function setFirst() {\n      return _setFirst(!first);\n    },\n    setSecond: function setSecond() {\n      return _setSecond(!second);\n    },\n    setThird: function setThird() {\n      return _setThird(!third);\n    },\n    setFourth: function setFourth() {\n      return _setFourth(!fourth);\n    },\n    setExpress: function setExpress() {\n      return _setExpress(!express);\n    },\n    setWifi: function setWifi() {\n      return _setWifi(!wifi);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    className: \"cost-picker\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"trainpicker_label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"), React.createElement(RangeSlider, {\n    onChange: function onChange(data) {\n      return setCost({\n        from: data.from,\n        to: data.to\n      });\n    },\n    type: \"double\",\n    grid: false,\n    from: cost.from,\n    to: cost.to,\n    min: 500,\n    max: 7000,\n    hide_min_max: true,\n    skin: \"material\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"time-picker_titel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"time-picker_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"arrow_forward\"))), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"\\u0422\\u0443\\u0434\\u0430\"), React.createElement(\"div\", {\n    className: \"time-picker_roll\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    className: \"time-picker\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"trainpicker_label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F\"), React.createElement(\"label\", {\n    className: \"range-picker_label\",\n    htmlFor: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"), React.createElement(RangeSlider, {\n    onChange: function onChange(data) {\n      return setDepartureTime({\n        from: data.from,\n        to: data.to\n      });\n    },\n    type: \"double\",\n    grid: false,\n    from: departureTime.from,\n    to: departureTime.to,\n    min: 0,\n    max: 24,\n    hide_min_max: false,\n    skin: \"material\",\n    prettify: function prettify(n) {\n      return n + ':00';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"range-picker_label\",\n    htmlFor: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u043F\\u0440\\u0438\\u0431\\u044B\\u0442\\u0438\\u044F\"), React.createElement(RangeSlider, {\n    onChange: function onChange(data) {\n      return setArrivalTime({\n        from: data.from,\n        to: data.to\n      });\n    },\n    type: \"double\",\n    grid: false,\n    from: arrivalTime.from,\n    to: arrivalTime.to,\n    min: 0,\n    max: 24,\n    hide_min_max: false,\n    skin: \"material\",\n    prettify: function prettify(n) {\n      return n + ':00';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"time-picker_titel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"time-picker_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"arrow_forward\"))), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u043E\"), React.createElement(\"div\", {\n    className: \"time-picker_roll\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    className: \"time-picker\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"trainpicker_label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F\"), React.createElement(\"label\", {\n    className: \"range-picker_label\",\n    htmlFor: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"), React.createElement(RangeSlider, {\n    onChange: function onChange(data) {\n      return setDepartureTime({\n        from: data.from,\n        to: data.to\n      });\n    },\n    type: \"double\",\n    grid: false,\n    from: departureTime.from,\n    to: departureTime.to,\n    min: 0,\n    max: 24,\n    hide_min_max: false,\n    skin: \"material\",\n    prettify: function prettify(n) {\n      return n + ':00';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"range-picker_label\",\n    htmlFor: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u043F\\u0440\\u0438\\u0431\\u044B\\u0442\\u0438\\u044F\"), React.createElement(RangeSlider, {\n    onChange: function onChange(data) {\n      return setArrivalTime({\n        from: data.from,\n        to: data.to\n      });\n    },\n    type: \"double\",\n    grid: false,\n    from: arrivalTime.from,\n    to: arrivalTime.to,\n    min: 0,\n    max: 24,\n    hide_min_max: false,\n    skin: \"material\",\n    prettify: function prettify(n) {\n      return n + ':00';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }))), React.createElement(\"fieldset\", {\n    className: \"filters__buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: addFilters,\n    className: \"filters__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"), React.createElement(\"button\", {\n    onClick: resetFilters,\n    className: \"filters__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"))));\n};\n\nexport { FiltersForm };","map":{"version":3,"sources":["/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/FiltersForm.js"],"names":["React","useEffect","useRef","useState","useContext","RangeSlider","Switches","ApiServiceContext","Datepicker","FiltersForm","props","console","log","searchParams","api","params","JSON","parse","sessionStorage","from","to","cost","setCost","departureTime","setDepartureTime","arrivalTime","setArrivalTime","first","setFirst","second","setSecond","third","setThird","fourth","setFourth","express","setExpress","wifi","setWifi","Date","date","setDate","filters","addFilters","event","preventDefault","update","resetFilters","window","location","href","formref","handleDropdownFilter","classList","toggle","el","width","height","travelDate","dateBack","data","n"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport {ApiServiceContext} from './context';\nimport { Datepicker } from './Datepicker';\n\n\nconst FiltersForm = (props) => {\n  console.log(props.searchParams)\n  const api = useContext(ApiServiceContext);\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n  \n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(true);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(true);\n  const [date, setDate] = useState(new Date());\n\n  params.filters = `price_from=${cost.from}&price_to=${cost.to}${first ? '&have_first_className=true' : ''}${second ? '&have_second_className=true' : ''}${third ? '&have_third_className=true' : ''}${fourth ? '&have_fourth_className=true' : ''}${wifi ? '&have_wifi=true' : ''}${express ? '&have_express=true' : ''}`;\n\n  const addFilters = event => {\n    event.preventDefault();\n    props.update(params.filters)\n  }\n\n  const resetFilters = event => {\n    event.preventDefault();\n\n    setCost({from: 500, to: 7000});\n    setDepartureTime({from: 0, to: 24});\n    setArrivalTime({from: 0, to: 24});\n    params.filters = '';\n    window.location.href = '/search';\n  }\nlet formref;\n  const handleDropdownFilter = () => {\n    formref.classList.toggle('minimized');\n  }\n\n  return (\n    <div className=\"filters-container\">\n      <div onClick={handleDropdownFilter} className=\"filter-cog\">\n            <i className=\"fas fa-cog\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n    <form ref={el => formref = el} action=\"\" className=\"search-form minimized\">\n         <fieldset onClick={handleDropdownFilter} className=\"search-form__set\" >\n\n         {/* <h2>Фильтр</h2> */}\n        <div>\n          <h2>Дата поездки</h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = date;\n                      setDate(date)}}\n                    defaultDate={props.searchParams.date}\n                    />\n        </div>\n        <div>\n          <h2>Дата возвращения</h2>\n          <Datepicker \n                    style={{width: \"285px\", height: \"52px\"}} \n                    onDateSelect={date => {\n                      sessionStorage.travelDate = date;\n                      setDate(date)}}\n                    defaultDate={props.searchParams.dateBack}\n                    />\n        </div>\n         </fieldset>\n         <fieldset className=\"seat-types\">\n           <Switches \n            first={first}\n            second={second}\n            third={third}\n            fourth={fourth}\n            express={express}\n            wifi={wifi}\n            setFirst={() => setFirst(!first)}\n            setSecond={() => setSecond(!second)}\n            setThird={() => setThird(!third)}\n            setFourth={() => setFourth(!fourth)}\n            setExpress={() => setExpress(!express)}\n            setWifi={() => setWifi(!wifi)}\n          />\n         </fieldset>\n         <fieldset className=\"cost-picker\" >\n           <label className=\"trainpicker_label\">Стоимость</label>\n           <RangeSlider \n              onChange={data => setCost({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={cost.from}\n              to={cost.to}\n              min={500}\n              max={7000}\n              hide_min_max={true}\n              skin=\"material\"/>\n         </fieldset>\n\n         <div>\n          <div className=\"time-picker_titel\">\n            <div className=\"time-picker_icon\">\n            <span ><i class=\"material-icons\">arrow_forward</i></span>\n            </div>\n            <h2>Туда</h2>\n            <div className=\"time-picker_roll\"></div>\n          </div>\n          \n          <fieldset className=\"time-picker\">\n              <label className=\"trainpicker_label\">Время</label>\n              <label className=\"range-picker_label\" htmlFor=\"\">Время отправления</label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\">Время прибытия</label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n          </fieldset>\n         </div>\n\n         <div>\n          <div className=\"time-picker_titel\">\n              <div className=\"time-picker_icon\">\n              <span ><i class=\"material-icons\">arrow_forward</i></span>\n              </div>\n              <h2>Обратно</h2>\n              <div className=\"time-picker_roll\"></div>\n            </div>\n          <fieldset className=\"time-picker\">\n              <label className=\"trainpicker_label\">Время</label>\n              <label className=\"range-picker_label\" htmlFor=\"\">Время отправления</label>\n              <RangeSlider \n                onChange={data => setDepartureTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={departureTime.from}\n                to={departureTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n              <label className=\"range-picker_label\" htmlFor=\"\">Время прибытия</label>\n              <RangeSlider \n                onChange={data => setArrivalTime({from: data.from, to: data.to})}\n                type=\"double\"\n                grid={false}\n                from={arrivalTime.from}\n                to={arrivalTime.to}\n                min={0}\n                max={24}\n                hide_min_max={ false}\n                skin=\"material\"\n                prettify={n => n + ':00'}/>\n\n          </fieldset>\n         </div>\n         \n         <fieldset className=\"filters__buttons\">\n            <button onClick={addFilters} className=\"filters__button\">Применить</button>\n            <button onClick={resetFilters} className=\"filters__button\">Сбросить</button>\n         </fieldset>\n       </form>\n      </div>\n  )\n}\n\nexport {FiltersForm}"]},"metadata":{},"sourceType":"module"}