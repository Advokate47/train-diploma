{"ast":null,"code":"import _slicedToArray from \"/Users/ksenialasenko/Desktop/gitHub/train-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/PaymentPage.js\";\nimport React, { useState } from 'react';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport { Link } from 'react-router-dom';\n\nvar PaymentPage = function PaymentPage(props) {\n  var passengers = JSON.parse(sessionStorage.passengers);\n  var price = JSON.parse(sessionStorage.price);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastName = _useState2[0],\n      setLastName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      firstName = _useState4[0],\n      setFirstName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      patronymic = _useState6[0],\n      setPatronymic = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      phone = _useState8[0],\n      setPhone = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      email = _useState10[0],\n      setEmail = _useState10[1];\n\n  var _useState11 = useState('credit-card'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      paymentMethod = _useState12[0],\n      setPaymentMethod = _useState12[1];\n\n  var handleInput = function handleInput(event) {\n    var value = event.target.value;\n\n    if (value.match(/[^А-Яа-яЁё]/g)) {\n      return;\n    }\n\n    switch (event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n\n      case \"first-name\":\n        setFirstName(value);\n        break;\n\n      case \"patronymic\":\n        setPatronymic(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  var handleEmail = function handleEmail(event) {\n    var value = event.target.value;\n\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n\n    setEmail(value);\n  };\n\n  var handlePayment = function handlePayment(event) {\n    setPaymentMethod(event.currentTarget.id);\n  };\n\n  var isEmailValid = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,10}$/i.test(email);\n  var isPhoneIncomplete = /_/.test(phone);\n  var isNameComplete = firstName && lastName && patronymic;\n  return React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(TripDetails, {\n    props: props,\n    passengers: passengers,\n    price: price,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"order-details\",\n    id: \"order-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"order_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"\\u041F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043B\\u0430\\u0442\\u0435\\u043B\\u044C\\u0449\\u0438\\u043A\\u0430\"), React.createElement(\"fieldset\", {\n    className: \"order_payer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"personal-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    for: \"last-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\", React.createElement(\"input\", {\n    required: true,\n    value: lastName,\n    onChange: handleInput,\n    type: \"text\",\n    name: \"last-name\",\n    className: \"passengers-card_last-name\",\n    id: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    for: \"first-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"\\u0418\\u043C\\u044F\", React.createElement(\"input\", {\n    required: true,\n    value: firstName,\n    onChange: handleInput,\n    type: \"text\",\n    name: \"first-name\",\n    className: \"passengers-card_name\",\n    id: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    for: \"patronymic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\", React.createElement(\"input\", {\n    required: true,\n    value: patronymic,\n    onChange: handleInput,\n    type: \"text\",\n    name: \"patronymic\",\n    className: \"passengers-card_patronymic-name\",\n    id: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"contact-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    for: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u044B\\u0439 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\", React.createElement(MaskedInput, {\n    value: phone,\n    onChange: function onChange(value) {\n      return setPhone(value);\n    },\n    prefix: \"+7\",\n    inputmask: ['+', '7', ' ', '(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), isPhoneIncomplete ? React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 10 \\u0446\\u0438\\u0444\\u0440 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0430 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0431\\u0435\\u0437 +7 \\u0438 \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u043E\\u0432 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 987 654 3210\") : \"\"), React.createElement(\"label\", {\n    for: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Email\", React.createElement(\"input\", {\n    value: email,\n    onChange: handleEmail,\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"email@mail.ru\",\n    className: \"passengers-card_email\",\n    style: {\n      textTransform: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), isEmailValid ? \"\" : React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u0440\\u0440\\u0435\\u043A\\u0442\\u043D\\u044B\\u0439 email \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 email@mail.ru\")))), React.createElement(\"div\", {\n    className: \"order_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"\\u0421\\u043F\\u043E\\u0441\\u043E\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B\"), React.createElement(\"fieldset\", {\n    className: \"payment-methods\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: handlePayment,\n    defaultChecked: true,\n    type: \"radio\",\n    name: \"payment-method\",\n    id: \"credit-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    for: \"credit-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"\\u0411\\u0430\\u043D\\u043A\\u043E\\u0432\\u0441\\u043A\\u043E\\u0439 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0439\"), React.createElement(\"input\", {\n    onChange: handlePayment,\n    type: \"radio\",\n    name: \"payment-method\",\n    id: \"paypal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    for: \"paypal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"PayPal\"), React.createElement(\"input\", {\n    onChange: handlePayment,\n    type: \"radio\",\n    name: \"payment-method\",\n    id: \"qiwi-wallet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    for: \"qiwi-wallet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Visa QIWI Wallet\"))))), React.createElement(Link, {\n    to: {\n      pathname: '/confirmation',\n      paymentMethod: paymentMethod\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: function onClick() {\n      return sessionStorage.payer = JSON.stringify({\n        first_name: firstName,\n        last_name: lastName,\n        patronymic: patronymic,\n        phone: phone,\n        email: email,\n        payment_method: \"online\"\n      });\n    },\n    className: \"purchase-button\",\n    disabled: !(isEmailValid && !isPhoneIncomplete && isNameComplete),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C \\u0431\\u0438\\u043B\\u0435\\u0442\\u044B\"))));\n};\n\nexport { PaymentPage };","map":{"version":3,"sources":["/Users/ksenialasenko/Desktop/gitHub/train-master/src/js/PaymentPage.js"],"names":["React","useState","TripDetails","MaskedInput","Link","PaymentPage","props","passengers","JSON","parse","sessionStorage","price","lastName","setLastName","firstName","setFirstName","patronymic","setPatronymic","phone","setPhone","email","setEmail","paymentMethod","setPaymentMethod","handleInput","event","value","target","match","name","handleEmail","handlePayment","currentTarget","id","isEmailValid","test","isPhoneIncomplete","isNameComplete","color","textTransform","pathname","payer","stringify","first_name","last_name","payment_method"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport { Link } from 'react-router-dom';\n\nconst PaymentPage = (props) => {\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.price);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('credit-card');\n\n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^А-Яа-яЁё]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const handleEmail = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handlePayment = event => {\n    setPaymentMethod(event.currentTarget.id);\n  }\n\n  \n  const isEmailValid = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,10}$/i.test(email);\n  const isPhoneIncomplete = /_/.test(phone);\n  const isNameComplete = firstName && lastName && patronymic;\n  \n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails props={props} passengers={passengers} price={price}/>\n      </div>\n      <div className=\"col-right\">\n      <div className=\"order\">\n        <form className=\"order-details\" id=\"order-details\">\n          <div className=\"order_title\">Персональные данные плательщика</div>\n            <fieldset className=\"order_payer\">\n              <div className=\"personal-details\">\n                  <label for=\"last-name\">Фамилия\n                    <input required value={lastName} onChange={handleInput} type=\"text\" name=\"last-name\" className=\"passengers-card_last-name\" id=\"\"/>\n                  </label>\n                  <label for=\"first-name\">Имя\n                    <input required value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" className=\"passengers-card_name\" id=\"\"/>\n                  </label>\n                  <label for=\"patronymic\">Отчество\n                    <input required value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" className=\"passengers-card_patronymic-name\" id=\"\"/>\n                  </label>\n              </div>\n              <div className=\"contact-details\">\n                  <label for=\"\">Контактный телефон\n                    <MaskedInput  value={phone} onChange={value => setPhone(value)} prefix=\"+7\" inputmask={['+', '7', ' ', '(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}/>\n                    {isPhoneIncomplete ? <div style={{color: \"red\"}}>Введите 10 цифр номера телефона без +7 и пробелов в формате 987 654 3210</div> : \"\"}\n                  </label>\n                  <label for=\"\">Email\n                    <input value={email} onChange={handleEmail} type=\"email\" name=\"email\" placeholder=\"email@mail.ru\" className=\"passengers-card_email\" style={{textTransform: \"none\"}}/>\n                    {isEmailValid ? \"\" : <div style={{color: \"red\"}}>Введите корректный email в формате email@mail.ru</div>}\n                  </label>\n              </div>\n            </fieldset>\n \n            <div className=\"order_title\">Способ оплаты</div>\n            \n            <fieldset className=\"payment-methods\">\n              <div>\n                <input onChange={handlePayment} defaultChecked type=\"radio\" name=\"payment-method\" id=\"credit-card\"/>\n                <label for=\"credit-card\">Банковской картой\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"paypal\"/>\n                <label for=\"paypal\">PayPal\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"qiwi-wallet\"/>\n                <label for=\"qiwi-wallet\">Visa QIWI Wallet\n                </label>\n              </div>\n            </fieldset>\n        </form>\n\n      </div>\n        <Link to={{ pathname: '/confirmation', paymentMethod: paymentMethod}}>\n          <button onClick={() => sessionStorage.payer = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            patronymic: patronymic,\n            phone: phone,\n            email: email,\n            payment_method: \"online\"\n            })} className=\"purchase-button\" disabled={!(isEmailValid && !isPhoneIncomplete && isNameComplete)}>Купить билеты</button>\n        </Link>\n      </div>\n    </div>\n    \n  )\n}\n\nexport {PaymentPage}"]},"metadata":{},"sourceType":"module"}